<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="search" type="application/opensearchdescription+xml" title="Memgraph Docs" href="/docs/opensearch.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Encode+Sans+Condensed:500,600">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400, 500,600">
<script src="https://memgraph.com/docs/js/load-analytics.js"></script>
<script src="https://kit.fontawesome.com/3a9f2eb5b9.js"></script><title data-react-helmet="true">vrp | Memgraph Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://memgraph.com/docs/mage/query-modules/python/vrp"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-mage-current"><meta data-react-helmet="true" property="og:title" content="vrp | Memgraph Docs"><meta data-react-helmet="true" name="description" content="&lt;span"><meta data-react-helmet="true" property="og:description" content="&lt;span"><link data-react-helmet="true" rel="shortcut icon" href="/docs/img/social-logo-round-corners.png"><link data-react-helmet="true" rel="canonical" href="https://memgraph.com/docs/mage/query-modules/python/vrp"><link data-react-helmet="true" rel="alternate" href="https://memgraph.com/docs/mage/query-modules/python/vrp" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://memgraph.com/docs/mage/query-modules/python/vrp" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/docs/assets/css/styles.515822bc.css">
<link rel="preload" href="/docs/assets/js/runtime~main.693b4778.js" as="script">
<link rel="preload" href="/docs/assets/js/main.688c73c8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><img src="/docs/img/memgraph-logo-500x380.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/docs/img/memgraph-logo-500x380.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Docs</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" href="/docs/memgraph/getting-started">Memgraph DB</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/memgraph/getting-started">Getting started</a></li><li><a class="dropdown__link" href="/docs/memgraph/installation">Installation</a></li><li><a class="dropdown__link" href="/docs/memgraph/import-data">Import data</a></li><li><a class="dropdown__link" href="/docs/memgraph/connect-to-memgraph">Connect to Memgraph</a></li><li><a class="dropdown__link" href="/docs/memgraph/reference-guide">Reference guide</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/memgraph-lab/">Memgraph Lab</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" href="/docs/cypher-manual/">Cypher manual</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/cypher-manual/">Overview</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/functions">Functions</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/clauses">Clauses</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/other-features">Other features</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/differences">Differences</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link" href="/docs/mage">MAGE</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/mage">Overview</a></li><li><a class="dropdown__link" href="/docs/mage/installation">Installation</a></li><li><a class="dropdown__link" href="/docs/mage/usage/calling-procedures">Usage</a></li><li><a class="dropdown__link" href="/docs/mage/contributing">Contributing</a></li><li><a class="dropdown__link" href="/docs/mage/getting-help">Getting help</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/help-center">Help Center</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/docs/memgraph/getting-started">1.6.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/memgraph/next/getting-started">Unreleased ðŸš§</a></li><li><a class="dropdown__link" href="/docs/memgraph/getting-started">1.6.1</a></li><li><a class="dropdown__link" href="/docs/memgraph/1.6.0/overview">1.6.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/1.5.0/overview">1.5.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/1.4.0/overview">1.4.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/1.3.0/overview">1.3.0</a></li></ul></div><a href="https://github.com/memgraph" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/mage/">MAGE overview</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/mage/installation">Installation</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Usage</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorials</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Query modules</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mage/query-modules/cpp/betweenness-centrality">betweenness_centrality</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mage/query-modules/cpp/biconnected-components">biconnected_components</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mage/query-modules/cpp/bipartite-matching">bipartite_matching</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mage/query-modules/cpp/bridges">bridges</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mage/query-modules/cpp/cycles">cycles</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mage/query-modules/python/distance-calculator">distance_calculator</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mage/query-modules/python/graph-analyzer">graph_analyzer</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mage/query-modules/python/graph-coloring">graph_coloring</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mage/query-modules/python/node-similarity">node_similarity</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mage/query-modules/python/nxalg">nxalg</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mage/query-modules/python/pagerank">pagerank</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mage/query-modules/python/set-cover">set_cover</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mage/query-modules/python/tsp">tsp</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mage/query-modules/python/union-find">union_find</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mage/query-modules/cpp/uuid-generator">uuid_generator</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/mage/query-modules/python/vrp">vrp</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mage/query-modules/cpp/weakly-connected-components">weakly_connected_components</a></li></ul></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/mage/contributing">Contributing</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Getting help</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>vrp</h1></header><p><a href="https://github.com/memgraph/mage/blob/main/python/vrp.py" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/source-vrp-FB6E00?logo=github&amp;style=for-the-badge" alt="docs-source"></a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="abstract"></a>Abstract<a class="hash-link" href="#abstract" title="Direct link to heading">#</a></h2><p>VRP or <strong>Vehicle Routing problem</strong> is a generalization of the <em>Travelling Salesman Problem</em>. The goal of the problem is to find the shortest route that visits each node once, starting and finishing from the same node, called a depot, while using a fleet of vehicles. Each vehicle does not need to be at every location, it is enough that every node is visited by at least one vehicle. The problem is <em>NP-hard</em> in optimization, and therefore methods such as constraint programming, approximations or heuristics are a good approach for solving. The current implementation of VRP includes constraint programming with <em>GEKKO</em> solver which works with 1 depot and an arbitrary number of vehicles. The algorithm uses the distance calculator to determine the distance between driving points, and works only with geographical locations, meaning each node needs to have its <em>lat</em> and <em>lng</em> property.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">(location:Location {lat: 44.1194, lng: 15.2314})</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><table><thead><tr><th>Trait</th><th>Value</th></tr></thead><tbody><tr><td><strong>Module type</strong></td><td><span style="background-color:#FB6E00;border-radius:2px;color:#fff;padding:0.2rem"><strong>module</strong></span></td></tr><tr><td><strong>Implementation</strong></td><td><span style="background-color:#FB6E00;border-radius:2px;color:#fff;padding:0.2rem"><strong>Python</strong></span></td></tr><tr><td><strong>Graph direction</strong></td><td><span style="background-color:#FB6E00;border-radius:2px;color:#fff;padding:0.2rem"><strong>undirected</strong></span></td></tr><tr><td><strong>Edge weights</strong></td><td><span style="background-color:#FB6E00;border-radius:2px;color:#fff;padding:0.2rem"><strong>unweighted</strong></span></td></tr><tr><td><strong>Parallelism</strong></td><td><span style="background-color:#FB6E00;border-radius:2px;color:#fff;padding:0.2rem"><strong>sequential</strong></span></td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="procedures"></a>Procedures<a class="hash-link" href="#procedures" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="routedepot_node-number_of_vehicles"></a><code>route(depot_node, number_of_vehicles)</code><a class="hash-link" href="#routedepot_node-number_of_vehicles" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="input"></a>Input:<a class="hash-link" href="#input" title="Direct link to heading">#</a></h4><ul><li><code>depot_node: Vertex</code> âž¡ Depot node with its corresponding <em>lat</em> and <em>lng</em> coordinate properties.</li><li><code>number_of_vehicles: int = 1</code> âž¡ Designates how many vehicles are used. Set to 1 by default</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="output"></a>Output:<a class="hash-link" href="#output" title="Direct link to heading">#</a></h4><ul><li><code>from_vertex: Vertex</code> âž¡ Beginning point of one part of the route</li><li><code>to_vertex: Vertex</code> âž¡ Ending point of one part of the route</li><li><code>vehicle_id: int</code> âž¡ Vehicle ID that will drive the corresponding path (<em>from_vertex</em>)-&gt;(<em>to_vertex</em>)
All pairs of the route represent the full route with all vehicles used.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="usage"></a>Usage:<a class="hash-link" href="#usage" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (d:Depot)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CALL vrp.route(d) YIELD from_vertex, to_vertex, vehicle_id;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="example"></a>Example<a class="hash-link" href="#example" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Step 1: Input graph</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Step 2: Cypher load commands</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Step 3: Running command</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Step 4: Graph results</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Step 5: Running command for 2 vehicles</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Step 6: Results</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Step 7: Cypher results</li></ul><div class="margin-vert--md"><div role="tabpanel"><img src="/docs/assets/images/vrp-1-3f98d96850b93a413b42f534a7e706b7.png"></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (:Location {lat:45.81397494712325, lng:15.977107314009686});</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (:Location {lat:45.809786288641924, lng:15.969953021143715});</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (:Location {lat:45.801513169575195, lng:15.979868413090431});</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (:Location {lat:45.80062044456095, lng:15.971453134506456});</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (:Location {lat:45.80443233736649, lng:15.993114737391515});</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (:Location {lat:45.77165828306254, lng:15.943635971437576});</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (:Location {lat:45.785275159565806, lng:15.947448603375522});</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (:Location {lat:45.780581597098646, lng:15.935278141510148});</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (:Location {lat:45.82208303601525, lng:16.019498047049822});</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (:Depot {lat:45.7872369074369, lng:15.984469921454693});</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Note: all vertices in graph need to be either Location or Depot.</p></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (d:Depot)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CALL vrp.route(d) YIELD from_vertex, to_vertex, vehicle_id</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (from_vertex)-[r:Route]-&gt;(to_vertex);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (n)-[r:Route]-&gt;(m)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN n, r, m;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><img src="/docs/assets/images/vrp-2-72a91886dacc643a0e448b6f8a7d288e.png"></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (d:Depot, 2)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CALL vrp.route(d) YIELD from_vertex, to_vertex, vehicle_id</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (from_vertex)-[r:Route]-&gt;(to_vertex);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (n)-[r:Route]-&gt;(m)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN n, r, m;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><img src="/docs/assets/images/vrp-3-7701afea0b2df19ace12d78f429d7ef9.png"></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">+------------------------------------------+------------------------------------------+------------------------------------------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| from_vertex                              | to_vertex                                | vehicle_id                               |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+------------------------------------------+------------------------------------------+------------------------------------------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| (:Depot {lat: 45.7872, lng: 15.9845})    | (:Location {lat: 45.7853, lng: 15.9474}) | 1                                        |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| (:Location {lat: 45.7853, lng: 15.9474}) | (:Location {lat: 45.7806, lng: 15.9353}) | 1                                        |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| (:Location {lat: 45.7806, lng: 15.9353}) | (:Location {lat: 45.7717, lng: 15.9436}) | 1                                        |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| (:Location {lat: 45.7717, lng: 15.9436}) | (:Location {lat: 45.814, lng: 15.9771})  | 1                                        |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| (:Location {lat: 45.814, lng: 15.9771})  | (:Location {lat: 45.8044, lng: 15.9931}) | 1                                        |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| (:Location {lat: 45.8044, lng: 15.9931}) | (:Location {lat: 45.8015, lng: 15.9799}) | 1                                        |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| (:Location {lat: 45.8015, lng: 15.9799}) | (:Location {lat: 45.8006, lng: 15.9715}) | 1                                        |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| (:Location {lat: 45.8006, lng: 15.9715}) | (:Location {lat: 45.8098, lng: 15.97})   | 1                                        |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| (:Location {lat: 45.8098, lng: 15.97})   | (:Depot {lat: 45.7872, lng: 15.9845})    | 1                                        |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| (:Depot {lat: 45.7872, lng: 15.9845})    | (:Location {lat: 45.8221, lng: 16.0195}) | 2                                        |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| (:Location {lat: 45.8221, lng: 16.0195}) | (:Depot {lat: 45.7872, lng: 15.9845})    | 2                                        |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+------------------------------------------+------------------------------------------+------------------------------------------+</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/memgraph/docs/tree/master/mage/query-modules/python/vrp.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/mage/query-modules/cpp/uuid-generator"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« uuid_generator</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/mage/query-modules/cpp/weakly-connected-components"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">weakly_connected_components Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#abstract" class="table-of-contents__link">Abstract</a></li><li><a href="#procedures" class="table-of-contents__link">Procedures</a><ul><li><a href="#routedepot_node-number_of_vehicles" class="table-of-contents__link"><code>route(depot_node, number_of_vehicles)</code></a></li></ul></li><li><a href="#example" class="table-of-contents__link">Example</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/memgraph/getting-started">Memgraph DB</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/memgraph-lab">Memgraph Lab</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cypher-manual">Cypher manual</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/mage">MAGE</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/memgraphdb" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discourse.memgraph.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Developer Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/memgraphdb" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/memgraph" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCZ3HOJvHGxtQ_JHxOselBYg" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://memgraph.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/docs/img/Memgraph-logo-white-rgb.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/docs/img/Memgraph-logo-white-rgb.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2021 Memgraph. Built by developers, for developers!</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.693b4778.js"></script>
<script src="/docs/assets/js/main.688c73c8.js"></script>
</body>
</html>