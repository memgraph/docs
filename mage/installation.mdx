---
id: installation
title: How to install MAGE?
sidebar_label: Installation
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

## Prerequisites

To install MAGE through **Docker** or **Docker Hub**, you will only need
[Docker](https://docs.docker.com/get-started/#download-and-install-docker). <br/>
To install MAGE from **source**, you will need:Â **Python3**, **pytest**, **Make**,
**CMake**, **Clang** and **Rust**.

<Tabs
  groupId="installation-method"
  defaultValue="docker"
  values={[
    {label: 'Docker Hub', value: 'docker-hub'},
    {label: 'Docker', value: 'docker'},
    {label: 'Install from source', value: 'source'},
  ]
}>
  <TabItem value="docker-hub">

## Installing with Docker Hub

Memgraph has prepared a docker image on [**Docker Hub**](https://hub.docker.com/r/memgraph/memgraph-mage) :whale:  ready to be pulled from
[memgraph/memgraph-mage](https://hub.docker.com/r/memgraph/memgraph-mage).

**1.** This is the only command you will need to make it run in your environment:

```shell
docker run -p 7687:7687 memgraph/memgraph-mage:latest

```

:::info
You can download specific version of MAGE. For example if you want to download version `0.1`,
you should run following command:

```shell
docker run -p 7687:7687 memgraph/memgraph-mage:0.1
```
:::



  </TabItem>

  <TabItem value="docker">

## Build of MAGE image from Github repository

From github you can download specific version, or you can download what is currently on `main` branch.

**0.** Download the MAGE source code from
**[GitHub](https://github.com/memgraph/mage)**

```shell
git clone https://github.com/memgraph/mage.git && cd mage
```

**1.** Build the **MAGE** tagged
Docker image with the following command:

```shell
docker build -t memgraph-mage .
```

**2.** Start Memgraph with the following command and enjoy **MAGE**:

```shell
docker run --rm -p 7687:7687 --name mage memgraph-mage
```
:::info
If you made any new changes while **MAGE** Docker container is running, you need to stop it and rebuild whole image.
:::


  </TabItem>

  <TabItem value="source">

## Installing from source

**1.** Download the MAGE source code from
**[GitHub](https://github.com/memgraph/mage)** and run the `setup` script. It
will generate a `dist` directory with all the needed files.

```shell
python3 setup build
```

**2.** Copy the contents of the newly created `dist` directory to
`/usr/lib/memgraph/query_modules`.

:::info
If you want to be quicker, you can specify a path for setup script to copy the built executables:

```shell
python3 setup build -p /usr/lib/memgraph/query_modules
```
:::

**3.** Start Memgraph and enjoy **MAGE**!

:::info
Note that query modules are loaded into Memgraph on startup, so if your instance
was already running, you will need to execute the following query to load them:

```cypher
CALL mg.load_all();
```

If your changes are not loaded, make sure to restart the instance by instancy by running
`systemctl stop memgraph` and `systemctl start memgraph`.

If you want to find out more about loading query modules, visit [this
guide](/usage/loading-modules.md).
:::

## Advanced configuration

#### Set different query_modules directory
`setup` script offers you to set your local `mage/dist` folder as  default one for Memgraph configuration file
(flag `--query-modules-directory` defined in `/etc/memgraph/memgraph.conf` file with following step:

```
python3 setup modules_storage
```

This way Memgraph will be looking for query modules inside `mage/dist` folder. Now you don't need to copy `mage/dist` folder to
`/usr/lib/memgraph/query_modules` every time when you do `build`.

  </TabItem>
</Tabs>

