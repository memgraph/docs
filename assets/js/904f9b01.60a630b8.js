"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[49774],{3905:(e,r,t)=>{t.d(r,{Zo:()=>m,kt:()=>d});var n=t(67294);function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function l(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var p=n.createContext({}),s=function(e){var r=n.useContext(p),t=r;return e&&(t="function"==typeof e?e(r):i(i({},r),e)),t},m=function(e){var r=s(e.components);return n.createElement(p.Provider,{value:r},e.children)},c={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},u=n.forwardRef((function(e,r){var t=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),u=s(t),d=o,h=u["".concat(p,".").concat(d)]||u[d]||c[d]||a;return t?n.createElement(h,i(i({ref:r},m),{},{components:t})):n.createElement(h,i({ref:r},m))}));function d(e,r){var t=arguments,o=r&&r.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=u;var l={};for(var p in r)hasOwnProperty.call(r,p)&&(l[p]=r[p]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var s=2;s<a;s++)i[s]=t[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}u.displayName="MDXCreateElement"},59351:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>m,contentTitle:()=>p,default:()=>d,frontMatter:()=>l,metadata:()=>s,toc:()=>c});var n=t(87462),o=(t(67294),t(3905)),a=t(46723),i=t(93537);const l={id:"durability",title:"Durability errors",sidebar_label:"Durability"},p=void 0,s={unversionedId:"memgraph/durability",id:"memgraph/durability",title:"Durability errors",description:"Errors",source:"@site/errors/memgraph/durability.md",sourceDirName:"memgraph",slug:"/memgraph/durability",permalink:"/docs/errors/memgraph/durability",draft:!1,editUrl:"https://github.com/memgraph/docs/tree/master/errors/memgraph/durability.md",tags:[],version:"current",frontMatter:{id:"durability",title:"Durability errors",sidebar_label:"Durability"},sidebar:"errors",previous:{title:"Auth module",permalink:"/docs/errors/memgraph/auth"},next:{title:"Memory (RAM)",permalink:"/docs/errors/memgraph/memory"}},m={},c=[{value:"Errors",id:"errors",level:2},{value:"Why are snapshot and WAL files missing?",id:"error-1",level:2},{value:"Docker not persisting data",id:"error-1-1",level:3},{value:"Memgraph data directory not set correctly",id:"error-1-2",level:3}],u={toc:c};function d(e){let{components:r,...t}=e;return(0,o.kt)("wrapper",(0,n.Z)({},u,t,{components:r,mdxType:"MDXLayout"}),(0,o.kt)(a.ZP,{mdxType:"Help"}),(0,o.kt)("h2",{id:"errors"},"Errors"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"#error-1"},"Snapshot or WAL directory don't exist, there is nothing to recover. For more\ndetails, visit: memgr.ph/durability.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"#error-1"},"No snapshot or WAL file found. For more details, visit:\nmemgr.ph/durability.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"#error-1"},"Couldn't get WAL file info from the WAL directory. For more details, visit:\nmemgr.ph/durability."))),(0,o.kt)("h2",{id:"error-1"},"Why are snapshot and WAL files missing?"),(0,o.kt)("p",null,"There are two options:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"#error-1-1"},"The files are missing because Docker doesn't store them.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"#error-1-2"},"Memgraph is looking in the wrong directory."))),(0,o.kt)("h3",{id:"error-1-1"},"Docker not persisting data"),(0,o.kt)("p",null,"It's possible that your Docker containers don\u2019t persist data by default (all\nchanges are lost when the container is stopped). You need to use local volumes\nto store the data permanently which is why Memgraph is started with the ",(0,o.kt)("inlineCode",{parentName:"p"},"-v"),"\nflag:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-console"},"docker run -p 7687:7687 -v mg_lib:/var/lib/memgraph memgraph/memgraph\n")),(0,o.kt)("p",null,"More information on Docker Volumes can be found\n",(0,o.kt)("a",{parentName:"p",href:"https://docs.docker.com/storage/volumes/"},"here"),"."),(0,o.kt)("h3",{id:"error-1-2"},"Memgraph data directory not set correctly"),(0,o.kt)("p",null,"Make sure that Memgraph is searching for the snapshot files in the right\ndirectory. The Memgraph configuration is available in\n",(0,o.kt)("inlineCode",{parentName:"p"},"/etc/memgraph/memgraph.conf")," and you can specify the directory with the\n",(0,o.kt)("inlineCode",{parentName:"p"},"--data-directory")," flag. If the configuration file is altered, Memgraph needs to\nbe restarted. The default directory is ",(0,o.kt)("inlineCode",{parentName:"p"},"/var/lib/memgraph"),". To learn about all\nthe configuration options, check out the ",(0,o.kt)("a",{parentName:"p",href:"/memgraph/reference-guide/configuration"},"Reference\nguide"),"."),(0,o.kt)(i.ZP,{mdxType:"SubmitError"}))}d.isMDXComponent=!0},46723:(e,r,t)=>{t.d(r,{ZP:()=>i});var n=t(87462),o=(t(67294),t(3905));const a={toc:[]};function i(e){let{components:r,...t}=e;return(0,o.kt)("wrapper",(0,n.Z)({},a,t,{components:r,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"If you are having trouble dealing with an error, please let us know on the ",(0,o.kt)("a",{href:"https://www.discord.gg/memgraph",target:"_blank"},"Discord"),".")))}i.isMDXComponent=!0},93537:(e,r,t)=>{t.d(r,{ZP:()=>i});var n=t(87462),o=(t(67294),t(3905));const a={toc:[]};function i(e){let{components:r,...t}=e;return(0,o.kt)("wrapper",(0,n.Z)({},a,t,{components:r,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"If you weren't able to find the error, please submit it through a ",(0,o.kt)("a",{href:"https://support.memgraph.com",target:"_blank"},"Support Ticket")," so we can look into it and get back to you.")))}i.isMDXComponent=!0}}]);