"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[21104],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>g});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=n.createContext({}),i=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},c=function(e){var t=i(e.components);return n.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=i(r),g=a,h=u["".concat(p,".").concat(g)]||u[g]||d[g]||o;return r?n.createElement(h,s(s({ref:t},c),{},{components:r})):n.createElement(h,s({ref:t},c))}));function g(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,s=new Array(o);s[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:a,s[1]=l;for(var i=2;i<o;i++)s[i]=r[i];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},66123:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>i});var n=r(87462),a=(r(67294),r(3905));const o={sidebar_label:"pyg_translator",title:"gqlalchemy.transformations.translators.pyg_translator"},s=void 0,l={unversionedId:"reference/transformations/translators/pyg_translator",id:"reference/transformations/translators/pyg_translator",title:"gqlalchemy.transformations.translators.pyg_translator",description:"PyGTranslator Objects",source:"@site/gqlalchemy/reference/transformations/translators/pyg_translator.md",sourceDirName:"reference/transformations/translators",slug:"/reference/transformations/translators/pyg_translator",permalink:"/docs/gqlalchemy/reference/transformations/translators/pyg_translator",draft:!1,editUrl:"https://github.com/memgraph/docs/tree/master/gqlalchemy/reference/transformations/translators/pyg_translator.md",tags:[],version:"current",frontMatter:{sidebar_label:"pyg_translator",title:"gqlalchemy.transformations.translators.pyg_translator"},sidebar:"gqlalchemy",previous:{title:"nx_translator",permalink:"/docs/gqlalchemy/reference/transformations/translators/nx_translator"},next:{title:"translator",permalink:"/docs/gqlalchemy/reference/transformations/translators/translator"}},p={},i=[{value:"PyGTranslator Objects",id:"pygtranslator-objects",level:2},{value:"get_node_properties",id:"get_node_properties",level:4},{value:"extract_node_edge_properties_from_homogeneous_graph",id:"extract_node_edge_properties_from_homogeneous_graph",level:4},{value:"to_cypher_queries",id:"to_cypher_queries",level:4},{value:"get_instance",id:"get_instance",level:4}],c={toc:i};function d(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"pygtranslator-objects"},"PyGTranslator Objects"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"class PyGTranslator(Translator)\n")),(0,a.kt)("h4",{id:"get_node_properties"},"get","_","node","_","properties"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"@classmethod\ndef get_node_properties(cls, graph, node_label: str, node_id: int)\n")),(0,a.kt)("p",null,"Extracts node properties from heterogeneous graph based on the node_label."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"graph")," - A reference to the PyG graph."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"node_label")," - Node label"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"node_id")," - Node_id")),(0,a.kt)("h4",{id:"extract_node_edge_properties_from_homogeneous_graph"},"extract","_","node","_","edge","_","properties","_","from","_","homogeneous","_","graph"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"@classmethod\ndef extract_node_edge_properties_from_homogeneous_graph(cls, graph)\n")),(0,a.kt)("p",null,"Homogenous graph don","'","t have node and etype properties so it is hard to extract node and edge attributes."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"graph")," - Data = reference to the PyG graph.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Returns"),":"),(0,a.kt)("p",null,"  node and edge attributes as dictionaries"),(0,a.kt)("h4",{id:"to_cypher_queries"},"to","_","cypher","_","queries"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"def to_cypher_queries(graph)\n")),(0,a.kt)("p",null,"Produce cypher queries for data saved as part of thePyG graph. The method handles both homogeneous and heterogeneous graph.\nThe method converts 1D as well as multidimensional features. If there are some isolated nodes inside the graph, they won","'","t get transferred. Nodes and edges\ncreated in Memgraph DB will, for the consistency reasons, have property ",(0,a.kt)("inlineCode",{parentName:"p"},"pyg_id")," set to the id they have as part of the PyG graph. Note that this method doesn","'","t insert anything inside\nthe database, it just creates cypher queries. To insert queries the following code can be used:\n",">",">",">"," memgraph = Memgraph()\npyg_graph = HeteroData(...)\nfor query in PyGTranslator().to_cypher_queries(pyg_graph):\nmemgraph.execute(query)"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"graph")," - A reference to the PyG graph.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Returns"),":"),(0,a.kt)("p",null,"  cypher queries."),(0,a.kt)("h4",{id:"get_instance"},"get","_","instance"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"def get_instance()\n")),(0,a.kt)("p",null,"Create instance of PyG graph from all edges that are inside Memgraph. Currently, isolated nodes are ignored because they don","'","t contribute in message passing neural networks. Only numerical features\nthat are set on all nodes or all edges are transferred to the PyG instance since this is PyG","'","s requirement. That means thay any string values properties won","'","t be transferred, as well as numerical properties\nthat aren","'","t set on all nodes. However, features thata re of type list are transferred to the PyG instance and can be used as any other feature in the PyG graph. Regardless of data residing inside Memgraph database, the created\nPyG graph is a heterograph instance."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Returns"),":"),(0,a.kt)("p",null,"  PyG heterograph instance."))}d.isMDXComponent=!0}}]);