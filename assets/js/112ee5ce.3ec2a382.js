"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[45509],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>u});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var i=a.createContext({}),c=function(e){var t=a.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},d=function(e){var t=c(e.components);return a.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,s=e.originalType,i=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),h=c(r),u=n,g=h["".concat(i,".").concat(u)]||h[u]||p[u]||s;return r?a.createElement(g,o(o({ref:t},d),{},{components:r})):a.createElement(g,o({ref:t},d))}));function u(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var s=r.length,o=new Array(s);o[0]=h;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:n,o[1]=l;for(var c=2;c<s;c++)o[c]=r[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}h.displayName="MDXCreateElement"},29786:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var a=r(87462),n=(r(67294),r(3905));const s={sidebar_label:"dgl_translator",title:"gqlalchemy.transformations.translators.dgl_translator"},o=void 0,l={unversionedId:"reference/transformations/translators/dgl_translator",id:"reference/transformations/translators/dgl_translator",title:"gqlalchemy.transformations.translators.dgl_translator",description:"DGLTranslator Objects",source:"@site/gqlalchemy/reference/transformations/translators/dgl_translator.md",sourceDirName:"reference/transformations/translators",slug:"/reference/transformations/translators/dgl_translator",permalink:"/docs/gqlalchemy/reference/transformations/translators/dgl_translator",draft:!1,editUrl:"https://github.com/memgraph/docs/tree/master/gqlalchemy/reference/transformations/translators/dgl_translator.md",tags:[],version:"current",frontMatter:{sidebar_label:"dgl_translator",title:"gqlalchemy.transformations.translators.dgl_translator"},sidebar:"gqlalchemy",previous:{title:"loaders",permalink:"/docs/gqlalchemy/reference/transformations/importing/loaders"},next:{title:"nx_translator",permalink:"/docs/gqlalchemy/reference/transformations/translators/nx_translator"}},i={},c=[{value:"DGLTranslator Objects",id:"dgltranslator-objects",level:2},{value:"to_cypher_queries",id:"to_cypher_queries",level:4},{value:"get_instance",id:"get_instance",level:4}],d={toc:c};function p(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,a.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"dgltranslator-objects"},"DGLTranslator Objects"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"class DGLTranslator(Translator)\n")),(0,n.kt)("p",null,"Performs conversion from cypher queries to the DGL graph representation. DGL assigns to each edge a unique integer, called the edge ID,\nbased on the order in which it was added to the graph. In DGL, all the edges are directed, and an edge (u,v) indicates that the direction goes\nfrom node u to node v. Only features of numerical types (e.g., float, double, and int) are allowed. They can be scalars, vectors or multi-dimensional\ntensors (DQL requirement). Each node feature has a unique name and each edge feature has a unique name. The features of nodes and edges can have\nthe same name. A feature is created via tensor assignment, which assigns a feature to each node/edge in the graph. The leading dimension of that\ntensor must be equal to the number of nodes/edges in the graph. You cannot assign a feature to a subset of the nodes/edges in the graph. Features of the\nsame name must have the same dimensionality and data type."),(0,n.kt)("h4",{id:"to_cypher_queries"},"to","_","cypher","_","queries"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"def to_cypher_queries(graph: Union[dgl.DGLGraph, dgl.DGLHeteroGraph])\n")),(0,n.kt)("p",null,"Produce cypher queries for data saved as part of the DGL graph. The method handles both homogeneous and heterogeneous graph. If the graph is homogeneous, a default DGL","'","s labels will be used.\n_N as a node label and _E as edge label. The method converts 1D as well as multidimensional features. If there are some isolated nodes inside DGL graph, they won","'","t get transferred. Nodes and edges\ncreated in Memgraph DB will, for the consistency reasons, have property ",(0,n.kt)("inlineCode",{parentName:"p"},"dgl_id")," set to the id they have as part of the DGL graph. Note that this method doesn","'","t insert anything inside the database,\nit just creates cypher queries. To insert queries the following code can be used:\n",">",">",">"," memgraph = Memgraph()\ndgl_graph = DGLGraph(...)\nfor query in DGLTranslator().to_cypher_queries(dgl_graph):\nmemgraph.execute(query)"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"graph")," - A reference to the DGL graph.")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Returns"),":"),(0,n.kt)("p",null,"  cypher queries."),(0,n.kt)("h4",{id:"get_instance"},"get","_","instance"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"def get_instance() -> dgl.DGLHeteroGraph\n")),(0,n.kt)("p",null,"Create instance of DGL graph from all edges that are inside Memgraph. Currently, isolated nodes are ignored because they don","'","t contribute in message passing neural networks. Only numerical features\nthat are set on all nodes or all edges are transferred to the DGL instance since this is DGL","'","s requirement. That means thay any string values properties won","'","t be transferred, as well as numerical properties\nthat aren","'","t set on all nodes. However, features of type list are transferred to the DGL and can be used as any other feature in the DGL graph. Regardless of data residing inside Memgraph database, the created\nDGL graph is a heterograph instance."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Returns"),":"),(0,n.kt)("p",null,"  DGL heterograph instance."))}p.isMDXComponent=!0}}]);