<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="search" type="application/opensearchdescription+xml" title="Memgraph Docs" href="/opensearch.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Encode+Sans+Condensed:500,600">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400, 500,600">
<script src="https://docs.memgraph.com/js/load-analytics.js"></script>
<script src="https://kit.fontawesome.com/3a9f2eb5b9.js"></script><title data-react-helmet="true">Marvel Comic Universe social network | Memgraph Docs</title><meta data-react-helmet="true" property="og:url" content="https://docs.memgraph.com/memgraph/next/tutorials/marvel-universe"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-memgraph-current"><meta data-react-helmet="true" property="og:title" content="Marvel Comic Universe social network | Memgraph Docs"><meta data-react-helmet="true" name="description" content="This article is a part of a series intended to show how to use Memgraph"><meta data-react-helmet="true" property="og:description" content="This article is a part of a series intended to show how to use Memgraph"><link data-react-helmet="true" rel="shortcut icon" href="/img/social-logo-round-corners.png"><link data-react-helmet="true" rel="canonical" href="https://docs.memgraph.com/memgraph/next/tutorials/marvel-universe"><link data-react-helmet="true" rel="alternate" href="https://docs.memgraph.com/memgraph/next/tutorials/marvel-universe" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.memgraph.com/memgraph/next/tutorials/marvel-universe" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.e0c227af.css">
<link rel="preload" href="/assets/js/runtime~main.5375bdee.js" as="script">
<link rel="preload" href="/assets/js/main.bd7957d7.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/memgraph-logo-500x380.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/memgraph-logo-500x380.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Docs</b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/memgraph/getting-started">Memgraph DB</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/memgraph/getting-started">Getting started</a></li><li><a class="dropdown__link" href="/memgraph/installation">Installation</a></li><li><a class="dropdown__link" href="/memgraph/import-data">Import data</a></li><li><a class="dropdown__link" href="/memgraph/connect-to-memgraph">Connect to Memgraph</a></li><li><a class="dropdown__link" href="/memgraph/reference-guide">Reference guide</a></li></ul></div><a class="navbar__item navbar__link" href="/memgraph-lab/">Memgraph Lab</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__item navbar__link" href="/cypher-manual/">Cypher manual</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cypher-manual/">Overview</a></li><li><a class="dropdown__link" href="/cypher-manual/functions">Functions</a></li><li><a class="dropdown__link" href="/cypher-manual/clauses">Clauses</a></li><li><a class="dropdown__link" href="/cypher-manual/other-features">Other features</a></li><li><a class="dropdown__link" href="/cypher-manual/differences">Differences</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__item navbar__link" href="/mage">MAGE</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/mage">Overview</a></li><li><a class="dropdown__link" href="/mage/installation">Installation</a></li><li><a class="dropdown__link" href="/mage/usage/calling-procedures">Usage</a></li><li><a class="dropdown__link" href="/mage/contributing">Contributing</a></li><li><a class="dropdown__link" href="/mage/getting-help">Getting help</a></li></ul></div><a class="navbar__item navbar__link" href="/help-center">Help Center</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/memgraph/next/getting-started">Unreleased ðŸš§</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/memgraph/next/tutorials/marvel-universe">Unreleased ðŸš§</a></li><li><a class="dropdown__link" href="/memgraph/tutorials/marvel-universe">1.6.1</a></li><li><a class="dropdown__link" href="/memgraph/1.6.0/tutorials/marvel-universe">1.6.0</a></li><li><a class="dropdown__link" href="/memgraph/1.5.0/tutorials/marvel-universe">1.5.0</a></li><li><a class="dropdown__link" href="/memgraph/1.4.0/tutorials/marvel-universe">1.4.0</a></li><li><a class="dropdown__link" href="/memgraph/1.3.0/tutorials/marvel-universe">1.3.0</a></li></ul></div><a href="https://github.com/memgraph" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/memgraph/next/getting-started">Getting started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Installation</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Connect to Memgraph</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Import data</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Tutorials</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/tutorials">Tutorials overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/tutorials/analyzing-ted-talks">Analyzing TED Talks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/tutorials/backpacking-through-europe">Backpacking through Europe</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/tutorials/exploring-the-european-road-network">Exploring the European road network</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/tutorials/football-transfers">Football transfers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/tutorials/got-deaths">Game of Thrones deaths</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/tutorials/graphing-the-premier-league">Graphing the Premier League</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/memgraph/next/tutorials/marvel-universe">Marvel Comic Universe social network</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/tutorials/movie-recommendation">Movie recommendation system</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/tutorials/social-network-analysis">Social network analysis with NetworkX</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/tutorials/understanding-music-with-modules">Understanding music (with query modules)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Database functionalities</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reference guide</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Concepts</a></li><li class="menu__list-item"><a class="menu__link" href="/memgraph/next/changelog">Changelog</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for Memgraph Docs <b>Unreleased ðŸš§</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/memgraph/tutorials/marvel-universe">latest version</a></b> (1.6.1).</div></div><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: Unreleased ðŸš§</span><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Marvel Comic Universe social network</h1></header><p>This article is a part of a series intended to show how to use Memgraph
on real-world data to retrieve some interesting and useful
information.</p><p>We highly recommend checking out the other articles from this series which
are listed in our <a href="/memgraph/next/tutorials">tutorial overview section</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="introduction"></a>Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">#</a></h2><p>Spandex. Muscles. Big egos. Bad hair. No, we&#x27;re not talking about your high
school thrash metal band. We&#x27;re talking about one of the largest fictional social
networks that is the Marvel Comic Universe! Here we&#x27;ll teach you how to navigate
this complex and confusing assembly of heroes and villains. If you&#x27;ve ever
wanted to know who&#x27;s Spider-Man&#x27;s best super-buddy, or wanted to find all the
comic issues where Hulk, Wolverine, Thor, and Black Panther appear together, look
no further and fire up that Memgraph copy of yours!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="data-model"></a>Data model<a class="hash-link" href="#data-model" title="Direct link to heading">#</a></h2><p>Although the MCU is chock-full of heroes, the real hero here is Russ Chappell,
who painstakingly gathered the MCU data for the <a href="http://www.chronologyproject.com" target="_blank" rel="noopener noreferrer">Marvel Chronology Project</a>.
In addition, R. Alberich, J. Miro-Julia, and F. Rossello, three data scientists,
scraped the Chronology Project database, processed the data and put it into a
format that can be easily imported into any data-processing framework available
today. Their aim was to investigate whether this fictional &quot;social network&quot; has
a structure similar to a real-life social network. You can find their interesting
findings in the paper that was the culmination of their work, linked <a href="https://arxiv.org/pdf/cond-mat/0202174.pdf" target="_blank" rel="noopener noreferrer">here</a>.
The data they used, on the other hand, can be found <a href="https://www.kaggle.com/csanhueza/the-marvel-universe-social-network" target="_blank" rel="noopener noreferrer">here</a>.
We&#x27;ve used a slightly modified version of this data to create a graph database
snapshot ready for use.</p><p>Now, the data we&#x27;ll be using in our queries can be classified as follows:</p><ul><li>nodes, labeled as &quot;Hero&quot;, &quot;Comic&quot;, or &quot;ComicSeries&quot;<ul><li>a &quot;Hero&quot; node has a &quot;name&quot; attribute corresponding to both a hero&#x27;s
moniker and her/his real name (e.g. &quot;SPIDER-MAN/PETER PARKER&quot;)</li><li>a &quot;Comic&quot; node has a &quot;name&quot; attribute corresponding to the comic series name
and the issue/volume number if it&#x27;s included (e.g.  &quot;Astonishing Tales Vol. 2 12&quot;)</li><li>a &quot;ComicSeries&quot; node has a &quot;title&quot; attribute corresponding to the title of
the series a given comic is a part of, e.g. the &quot;Comic&quot; node
&quot;AVENGERS VOL. 3 17&quot; is part of the &quot;AVENGERS VOL. 3&quot; series.
In addition, each &quot;ComicSeries&quot; node has a &quot;publishYear&quot; attribute, which
is a list of years in which the series was published.</li></ul></li><li>edges, of type &quot;AppearedIn&quot;, &quot;AppearedInSameComic&quot;, or &quot;IsPartOfSeries&quot;<ul><li>edges connecting a &quot;Hero&quot; node to the &quot;Comic&quot; node it appears in are
of type &quot;AppearedIn&quot;</li><li>edges connecting two &quot;Hero&quot; nodes that appeared in the same comic are
of type &quot;AppearedInSameComic&quot;</li><li>edges connecting a &quot;Comic&quot; node and its corresponding &quot;ComicSeries&quot; node,
representing the inclusion relationship between a particular comic issue
and the series it&#x27;s part of, are of type &quot;IsPartOfSeries&quot;</li></ul></li></ul><p>A visual scheme of our graph database is given below.</p><p><img alt="MCU" src="/assets/images/mcu_metagraph-ba0f79c25baef96d54156de232957952.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="exploring-the-dataset"></a>Exploring the dataset<a class="hash-link" href="#exploring-the-dataset" title="Direct link to heading">#</a></h2><p>You have two options for exploring this dataset.
If you just want to take a look at the dataset and try out a few queries, open
<a href="https://playground.memgraph.com/" target="_blank" rel="noopener noreferrer">Memgraph Playground</a> and continue with
the tutorial there. Note that you will not be able to execute <code>write</code> operations.</p><p>On the other hand, if you would like to add changes to the dataset, download the
<a href="https://memgraph.com/product/lab" target="_blank" rel="noopener noreferrer">Memgraph Lab</a> desktop application and navigate
to the <code>Datasets</code> tab in the sidebar. From there, choose the dataset
<code>Marvel Comic Universe social network</code> and continue with the tutorial.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="example-queries-using-cypher"></a>Example queries using Cypher<a class="hash-link" href="#example-queries-using-cypher" title="Direct link to heading">#</a></h2><p>In the queries below, we are, as usual, using <a href="/cypher-manual">Cypher</a>
to query Memgraph via the console.</p><p>Here are some queries you might find interesting:</p><p>1) List all the comic series present in the database, along with the number of comics it contains:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (series:ComicSeries)-[:IsPartOfSeries]-(comic:Comic)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN series.title AS title, count(comic)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ORDER BY title;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>2) List all heroes that have &quot;SPIDER&quot; in their name:</p><p>If you take a peek at the Hero nodes, you&#x27;ll find that their names, while
accurate in most cases, can be a bit mangled. We didn&#x27;t have time to check and
update all the names that were already present. We swear! Super-busy! But, no
worries, we&#x27;ll show you how to get a list of potential heroes you might be looking
for. One of the most flexible ways is to use regex matching (represented by the
regex-matching operator &quot;=~&quot;).</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (hero:Hero)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">WHERE hero.name =~ &quot;.*SPIDER.*&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN hero.name AS potential_spider_dude</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ORDER BY potential_spider_dude;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The other option is to use the CONTAINS operator:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (hero:Hero)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">WHERE hero.name CONTAINS &quot;SPIDER&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN hero.name AS potential_spider_dude</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ORDER BY potential_spider_dude;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We recommend you search for your heroes of interest this way, which might save you
some time!</p><p>3) List all the comic issues where Spider-Man (Peter Parker) and Venom (Eddie Brock) appear together:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (:Hero {name: &quot;SPIDER-MAN/PETER PARKER&quot;})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      -[:AppearedIn]-&gt;(c:Comic)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &lt;-[:AppearedIn]-(:Hero {name: &quot;VENOM/EDDIE BROCK&quot;})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN c.name AS spidey_and_venom_comic</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ORDER BY spidey_and_venom_comic;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>4) List all the comic series in which Spider-Man/Peter Parker appears:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (:Hero {name: &quot;SPIDER-MAN/PETER PARKER&quot;})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      -[:AppearedIn]-&gt;(c:Comic)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      -[:IsPartOfSeries]-(s:ComicSeries)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN DISTINCT s.title AS series</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ORDER BY series;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>5) List 10 heroes with whom Spider-Man (Peter Parker) appeared most frequently together:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (:Hero {name: &quot;SPIDER-MAN/PETER PARKER&quot;})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      -[:AppearedIn]-&gt;(c:Comic)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &lt;-[:AppearedIn]-(h:Hero)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN DISTINCT h AS spidey_friend, count(h) AS friend_count</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ORDER BY friend_count DESC</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">LIMIT 10;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>6) Find if there&#x27;s a connection between Peter Parker/Spider-Man and Beef:</p><p>&quot;Who the hell is Beef?&quot;, you might ask. Well, let&#x27;s just run a
breadth-first-search starting from good ol&#x27; Spider-Man, with the constraint that we
stay within the &quot;radius&quot; of maximum 10 hops from him, and see whether there&#x27;s a
way Spidey can reach Beef. According to the six degrees of separation
philosophy, we should be able to find him on some path of maximally six hops
away, but we relax that strategy a bit just to be sure.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH p = (:Hero {name: &quot;SPIDER-MAN/PETER PARKER&quot;})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          -[*bfs 1..10]-(b:Hero {name: &quot;BEEF&quot;})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN p;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>7) List the 10 most popular heroes and comic series in the MCU:</p><p>Quickly, name the five most popular heroes in the MCU! Alright, how did your
brain decide what to give as the answer? We&#x27;re assuming that you have no clue,
but it vaguely has to do with the number and quality of connections each of
those heroes have in your brain. However, how to explain the concept of &quot;popular&quot;
to our database engine?</p><p>Well, our philosophy is as follows - a popular hero is the one who&#x27;s &quot;known&quot; by
more other heroes, or in terms of our MCU graph, a hero that the other heroes have
more connections (edges) to than some other hero is deemed &quot;more popular&quot;. We&#x27;ll
apply analogous reasoning to define the &quot;most popular&quot; comic book series as well.
This philosophy is the one underlying Google&#x27;s search engine, and the algorithm
embodying it is PageRank, so it would be convenient if we could make use of it.</p><p>However, the query engine doesn&#x27;t support PageRank out-of-the-box, so we have to
come up with a way to plug in PageRank to our database. That&#x27;s precisely the
purpose of <a href="/memgraph/next/reference-guide/query-modules">query modules</a>!</p><p>Long story short, the query module system enables us to write C or Python modules
that can access the data stored in our graph database, do some processing, and
return the results of this processing to the query engine, so we can perform
further queries on them. In this particular case, the PageRank algorithm is
implemented as a Python module, and can be found in the query module directory
<code>/usr/lib/memgraph/query-modules/</code>, along with its description and the examples
of usage. What you as a user must know is that the pagerank procedure automatically
takes the MCU graph as an argument, and returns a record of pairs of nodes and the
corresponding rank values (rank is a number representing the &quot;popularity&quot; of a given node).</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CALL pagerank.pagerank() YIELD node, rank</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">WITH node, rank</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">WHERE node:Hero</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN node.name AS most_popular_heroes</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ORDER BY rank DESC</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">LIMIT 10;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>How do the results of this query match with your own list? Not bad, right?</p><p>Now, let&#x27;s figure out the most popular comic series:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CALL pagerank.pagerank() YIELD node, rank</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">WITH node, rank</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">WHERE node:ComicSeries</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN node.title AS most_popular_comic_series</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ORDER BY rank DESC</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">LIMIT 10;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Or we can do it without query modules:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (hero:Hero)-[r]-()</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN hero.name, count(r) AS relationships</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ORDER BY relationships DESC</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">LIMIT 10;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>And that, folks, is all there is to it, so go and try out some graph magic of your own!</p><p>If you&#x27;re interested in the PageRank algorithm, we recommend you start <a href="https://en.wikipedia.org/wiki/PageRank" target="_blank" rel="noopener noreferrer">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="nifty-things-you-could-do"></a>Nifty things you could do<a class="hash-link" href="#nifty-things-you-could-do" title="Direct link to heading">#</a></h2><p>While the thing we&#x27;ve shown you how to do might be fun for a while, there are
loads of cool things you could do to improve the fun-factor. Here&#x27;s a very short
list of things we think you could pull off:</p><ul><li>we have loads of Hero nodes, so even the Hobgoblin or Magneto are deemed
&quot;heroes&quot;, but if you were the mayor of the Marvel Comic Universe Town, you
wouldn&#x27;t give those guys medals of honor, would you? It would be pretty cool
if we could classify the MCU entities into &quot;Hero&quot; and &quot;Villain&quot; categories.
Then you could ask the query engine to give you a list of Spidey&#x27;s
arch-nemeses in addition to Spidey&#x27;s best hero buddies.</li><li>similar to the previous idea, it would be insanely cool if someone would add
more attributes to the heroes like &quot;Superpower&quot;, &quot;Level&quot;, &quot;Affiliation&quot;,
&quot;Signature moves&quot; etc. If you had that, you could perhaps make a simple
Pokemon-like game where you&#x27;d randomly pick a team of villains and choose a team
of heroes to fight them.</li><li>you could write your own query module that could run more sophisticated
analyses on the social network like closeness centrality, Louvain modularity
etc.</li></ul><p>Now go and use your graph database superpowers for the greater good! Although the
comic universe is full of heroes, there&#x27;s always room for one more!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/memgraph/docs/tree/master/docs/tutorials/marvel-universe.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/memgraph/next/tutorials/graphing-the-premier-league"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Graphing the Premier League</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/memgraph/next/tutorials/movie-recommendation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Movie recommendation system Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link">Introduction</a></li><li><a href="#data-model" class="table-of-contents__link">Data model</a></li><li><a href="#exploring-the-dataset" class="table-of-contents__link">Exploring the dataset</a></li><li><a href="#example-queries-using-cypher" class="table-of-contents__link">Example queries using Cypher</a></li><li><a href="#nifty-things-you-could-do" class="table-of-contents__link">Nifty things you could do</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/memgraph/getting-started">Memgraph DB</a></li><li class="footer__item"><a class="footer__link-item" href="/memgraph-lab">Memgraph Lab</a></li><li class="footer__item"><a class="footer__link-item" href="/cypher-manual">Cypher manual</a></li><li class="footer__item"><a class="footer__link-item" href="/mage">MAGE</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/memgraphdb" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discourse.memgraph.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Developer Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/memgraphdb" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/memgraph" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCZ3HOJvHGxtQ_JHxOselBYg" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://memgraph.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/img/Memgraph-logo-white-rgb.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/Memgraph-logo-white-rgb.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2021 Memgraph. Built by developers, for developers!</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5375bdee.js"></script>
<script src="/assets/js/main.bd7957d7.js"></script>
</body>
</html>