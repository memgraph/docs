<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="search" type="application/opensearchdescription+xml" title="Memgraph Docs" href="/opensearch.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Encode+Sans+Condensed:500,600">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400, 500,600">
<script src="https://docs.memgraph.com/js/load-analytics.js"></script>
<script src="https://kit.fontawesome.com/3a9f2eb5b9.js"></script><title data-react-helmet="true">How to set up replication on a small cluster | Memgraph Docs</title><meta data-react-helmet="true" property="og:url" content="https://docs.memgraph.com/memgraph/next/database-functionalities/replication"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-memgraph-current"><meta data-react-helmet="true" property="og:title" content="How to set up replication on a small cluster | Memgraph Docs"><meta data-react-helmet="true" name="description" content="This article is a part of a series intended to showcase Memgraph&#x27;s features"><meta data-react-helmet="true" property="og:description" content="This article is a part of a series intended to showcase Memgraph&#x27;s features"><link data-react-helmet="true" rel="shortcut icon" href="/img/social-logo-round-corners.png"><link data-react-helmet="true" rel="canonical" href="https://docs.memgraph.com/memgraph/next/database-functionalities/replication"><link data-react-helmet="true" rel="alternate" href="https://docs.memgraph.com/memgraph/next/database-functionalities/replication" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.memgraph.com/memgraph/next/database-functionalities/replication" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.87235441.css">
<link rel="preload" href="/assets/js/runtime~main.81364730.js" as="script">
<link rel="preload" href="/assets/js/main.f7d9a401.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/memgraph-logo-500x380.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/memgraph-logo-500x380.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Docs</b></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/memgraph/overview">Memgraph DB</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/memgraph/getting-started">Getting started</a></li><li><a class="dropdown__link" href="/memgraph/installation">Installation</a></li><li><a class="dropdown__link" href="/memgraph/database-functionalities">Database functionalities</a></li><li><a class="dropdown__link" href="/memgraph/connect-to-memgraph">Connect to Memgraph</a></li><li><a class="dropdown__link" href="/memgraph/reference-guide">Reference guide</a></li></ul></div><a class="navbar__item navbar__link" href="/memgraph-lab/">Memgraph Lab</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/cypher-manual/">Cypher manual</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cypher-manual/">Overview</a></li><li><a class="dropdown__link" href="/cypher-manual/functions">Functions</a></li><li><a class="dropdown__link" href="/cypher-manual/clauses">Clauses</a></li><li><a class="dropdown__link" href="/cypher-manual/other-features">Other features</a></li><li><a class="dropdown__link" href="/cypher-manual/differences">Differences</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/mage">MAGE</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/mage">Overview</a></li><li><a class="dropdown__link" href="/mage/installation">Installation</a></li><li><a class="dropdown__link" href="/mage/usage/calling-procedures">Usage</a></li><li><a class="dropdown__link" href="/mage/contributing">Contributing</a></li><li><a class="dropdown__link" href="/mage/getting-help">Getting help</a></li></ul></div><a class="navbar__item navbar__link" href="/help-center">Help Center</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/memgraph/next/overview">Unreleased 🚧</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/memgraph/next/database-functionalities/replication">Unreleased 🚧</a></li><li><a class="dropdown__link" href="/memgraph/database-functionalities/replication">1.6.1</a></li><li><a class="dropdown__link" href="/memgraph/1.6.0/database-functionalities/replication">1.6.0</a></li><li><a class="dropdown__link" href="/memgraph/1.5.0/database-functionalities/replication">1.5.0</a></li><li><a class="dropdown__link" href="/memgraph/1.4.0/database-functionalities/replication">1.4.0</a></li><li><a class="dropdown__link" href="/memgraph/1.3.0/database-functionalities/replication">1.3.0</a></li></ul></div><a href="https://github.com/memgraph" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/memgraph-logo-500x380.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/memgraph-logo-500x380.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Docs</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a aria-current="page" class="menu__link menu__link--sublist navbar__link--active" role="button" href="/memgraph/overview">Memgraph DB</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/memgraph/getting-started">Getting started</a></li><li class="menu__list-item"><a class="menu__link" href="/memgraph/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" href="/memgraph/database-functionalities">Database functionalities</a></li><li class="menu__list-item"><a class="menu__link" href="/memgraph/connect-to-memgraph">Connect to Memgraph</a></li><li class="menu__list-item"><a class="menu__link" href="/memgraph/reference-guide">Reference guide</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/memgraph-lab/">Memgraph Lab</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" role="button" href="/cypher-manual/">Cypher manual</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/cypher-manual/">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/cypher-manual/functions">Functions</a></li><li class="menu__list-item"><a class="menu__link" href="/cypher-manual/clauses">Clauses</a></li><li class="menu__list-item"><a class="menu__link" href="/cypher-manual/other-features">Other features</a></li><li class="menu__list-item"><a class="menu__link" href="/cypher-manual/differences">Differences</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" role="button" href="/mage">MAGE</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/mage">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/mage/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" href="/mage/usage/calling-procedures">Usage</a></li><li class="menu__list-item"><a class="menu__link" href="/mage/contributing">Contributing</a></li><li class="menu__list-item"><a class="menu__link" href="/mage/getting-help">Getting help</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/help-center">Help Center</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/memgraph/next/database-functionalities/replication">Unreleased 🚧</a></li><li class="menu__list-item"><a class="menu__link" href="/memgraph/database-functionalities/replication">1.6.1</a></li><li class="menu__list-item"><a class="menu__link" href="/memgraph/1.6.0/database-functionalities/replication">1.6.0</a></li><li class="menu__list-item"><a class="menu__link" href="/memgraph/1.5.0/database-functionalities/replication">1.5.0</a></li><li class="menu__list-item"><a class="menu__link" href="/memgraph/1.4.0/database-functionalities/replication">1.4.0</a></li><li class="menu__list-item"><a class="menu__link" href="/memgraph/1.3.0/database-functionalities/replication">1.3.0</a></li></ul></li><li class="menu__list-item"><a href="https://github.com/memgraph" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/memgraph/next/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/memgraph/next/getting-started">Getting started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Installation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/installation">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Linux</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/install-memgraph-on-linux-docker">Docker 🐳</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/install-memgraph-on-ubuntu">Ubuntu</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/install-memgraph-on-debian">Debian</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/install-memgraph-from-rpm">RPM package</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/linux-installation-troubleshooting">Installation troubleshooting</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">macOS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/install-memgraph-on-macos-docker">Docker 🐳</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/macos-installation-troubleshooting">Installation troubleshooting</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Windows</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/install-memgraph-on-windows-docker">Docker 🐳</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/install-memgraph-on-windows-wsl">Windows Subsystem for Linux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/windows-installation-troubleshooting">Installation troubleshooting</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Connect to Memgraph</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/connect-to-memgraph">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/connection-methods">Connection methods</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Methods</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/connect-to-memgraph/methods/mgconsole">mgconsole</a></li><li class="menu__list-item"><a href="https://docs.memgraph.com/memgraph-lab" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="-1"><span>Memgraph Lab<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/connect-to-memgraph/methods/drivers">Drivers</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Building applications</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/connect-to-memgraph/methods/building-applications/python">Python</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/connect-to-memgraph/methods/building-applications/rust">Rust</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/connect-to-memgraph/methods/building-applications/c-sharp">C#</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/connect-to-memgraph/methods/building-applications/java">Java</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/connect-to-memgraph/methods/building-applications/go">Go</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/connect-to-memgraph/methods/building-applications/javascript">JavaScript</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/connect-to-memgraph/methods/building-applications/php">PHP</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Import data</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/import-data">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/import-data/csv-import-tool">CSV Import Tool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/import-data/load-csv-clause">LOAD CSV Cypher clause</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/import-data/cypherl">Importing Cypher queries</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/tutorials">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/tutorials/analyzing-ted-talks">Analyzing TED Talks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/tutorials/backpacking-through-europe">Backpacking through Europe</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/tutorials/exploring-the-european-road-network">Exploring the European road network</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/tutorials/football-transfers">Football transfers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/tutorials/got-deaths">Game of Thrones deaths</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/tutorials/graphing-the-premier-league">Graphing the Premier League</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/tutorials/marvel-universe">Marvel Comic Universe social network</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/tutorials/movie-recommendation">Movie recommendation system</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/tutorials/social-network-analysis">Social network analysis with NetworkX</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/tutorials/understanding-music-with-modules">Understanding music (with query modules)</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Database functionalities</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/database-functionalities">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/reference-guide/backup">Backup</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Connecting to Kafka streams</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/database-functionalities/streams/kafka-streams">Managing Kafka streams</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/database-functionalities/streams/implement-transformation-module">Implement transformation modules</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Enforcing constraints</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/database-functionalities/constraints/existence-constraint">Existence constraint</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/database-functionalities/constraints/uniqueness-constraint">Uniqueness constraint</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/database-functionalities/inspecting-queries">Inspecting queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/database-functionalities/memory-control">Memory control</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/database-functionalities/networkx">NetworkX</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/database-functionalities/profiling-queries">Profiling queries</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Query modules</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/database-functionalities/query-modules">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/database-functionalities/query-modules/implement-query-modules">Implement custom query modules</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/memgraph/next/database-functionalities/replication">Replication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/database-functionalities/tensorflow-setup">TensorFlow Op</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/database-functionalities/triggers">Triggers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/database-functionalities/manage-users-using-ldap">Authentication and authorization (Enterprise)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/memgraph/next/database-functionalities/manage-user-privileges">User privileges (Enterprise)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reference guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/backup">Backup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/graph-algorithms">Graph algorithms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/indexing">Indexing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/isolation-levels">Isolation levels</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Query modules</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/query-modules">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/query-modules/available-query-modules">Available modules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/query-modules/load-call-query-modules">Load and call custom query modules</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/query-modules/api/c-api">C API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/query-modules/api/python-api">Python API</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/replication">Replication</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Streams</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/streams">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Transformation Modules</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/streams/transformation-modules">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/streams/transformation-modules/api/c-api">C API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/streams/transformation-modules/api/python-api">Python API</a></li></ul></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/tensorflow">TensorFlow Op</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/audit-log">Audit log (Enterprise)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/auth-module">Auth module (Enterprise)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/ldap-security">LDAP Security (Enterprise)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/reference-guide/security">Security (Enterprise)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/concepts">Concepts overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/concepts/storage">Storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/concepts/graph-algorithms">Graph algorithms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/concepts/indexing">Indexing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/concepts/replication">Replication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/memgraph/next/concepts/telemetry">Telemetry</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/memgraph/next/upcoming-features">Upcoming features</a></li><li class="menu__list-item"><a class="menu__link" href="/memgraph/next/changelog">Changelog</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for Memgraph Docs <b>Unreleased 🚧</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/memgraph/database-functionalities/replication">latest version</a></b> (1.6.1).</div></div><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: Unreleased 🚧</span><div class="markdown"><header><h1 class="h1Heading_27L5">How to set up replication on a small cluster</h1></header><p>This article is a part of a series intended to showcase Memgraph&#x27;s features
and bring the user up to speed on developing with Memgraph.</p><p>We highly recommend checking out the other articles from this series which
are listed in our <a href="/memgraph/next/database-functionalities">database functionalities section</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="introduction"></a>Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">#</a></h2><p>This example demonstrates how to create a simple cluster of nodes running
Memgraph instances, and set up replication. We&#x27;ll demonstrate the use and
behavior of the available synchronization modes.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="cluster-topology"></a>Cluster topology<a class="hash-link" href="#cluster-topology" title="Direct link to heading">#</a></h2><p>The cluster consists of four nodes, a single main and three replicas:</p><ul><li>the main node, containing the original data to be replicated to other nodes,</li><li>a node that will be replicated to using the sync mode,</li><li>a node that will be replicated to using the async mode,</li><li>a node that will be replicated to using the semi-sync mode.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="configuring-the-cluster"></a>Configuring the cluster<a class="hash-link" href="#configuring-the-cluster" title="Direct link to heading">#</a></h2><p>We&#x27;ll use Docker to set up and run the cluster on your local machine, so make
sure you have it installed and ready, and grab your Memgraph docker image.
Look <a href="/memgraph/next/installation">here</a> for instructions.
We assume you have already set up a client for running queries like <a href="https://github.com/memgraph/mgconsole" target="_blank" rel="noopener noreferrer">mgconsole</a> installed.
You can also use any of the supported drivers like <a href="https://github.com/memgraph/mgclient" target="_blank" rel="noopener noreferrer">mgclient</a> or any of the Neo4j drivers.</p><p>We fire up the terminal, and for each Memgraph instance (node)  we have to start, we&#x27;ll
run:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run --rm memgraph</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The above commands will start a Memgraph node, and assign it its own IP address.</p><p>Now, to set up the cluster, we&#x27;ll have to start an <code>mgconsole</code>
instance for every running Memgraph node, and connect to it. To do this, we
have to figure out their IP addresses. Running</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker ps</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>will list all the running docker processes, along with their &quot;CONTAINER ID&quot; and
&quot;NAME&quot;. Running</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker inspect -f &#x27;{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}&#x27; container_name_or_id</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>where &quot;container_name_or_id&quot; is either the &quot;CONTAINER ID&quot; or &quot;NAME&quot; listed by
<code>docker ps</code>, we can get the IP addresses of all the nodes. Once we have them, we
can start setting up the replication. Let&#x27;s say the ip addresses are as follows:</p><ul><li>main:                      172.17.0.2</li><li>sync replica:              172.17.0.3</li><li>async replica:             172.17.0.4</li><li>semi-sync replica:         172.17.0.5 .</li></ul><p>Let&#x27;s assume we&#x27;re using mgconsole to connect to and query the nodes. Firstly,
we have to set up the replicas. We connect to a replica by running</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mgconsole --host REPLICA_IP_ADDRESS --use-ssl=false</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>where REPLICA_IP_ADDRESS is the address we found in the previous step. Once
we&#x27;re connected to a replica, we set its replication role to &quot;REPLICA&quot; by
issuing</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">SET REPLICATION ROLE TO REPLICA WITH PORT 10000;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Note that the port 10000 is arbitrary, and any available port number may be used
instead. We repeat the process for all replicas.</p><p>Now, it&#x27;s time to set up the main. Again, we connect to the main using
mgconsole:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mgconsole --host 172.17.0.2 --use-ssl=false</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then, for every replica, we issue the query that registers it:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REGISTER REPLICA r1 SYNC TO &quot;172.17.0.3:10000&quot;;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REGISTER REPLICA r2 ASYNC TO &quot;172.17.0.4:10000&quot;;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REGISTER REPLICA r3 SYNC WITH TIMEOUT 1 TO &quot;172.17.0.5:10000&quot;;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Now we can create some nodes and edges on the main, and observe them replicate
to the replicas. Firstly, we switch to the mgconsole instance connected to the
main, and then issue:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n:N {p: &quot;This is going to be replicated!&quot;});</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>After that, we can switch to any replica and try to match this node:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (n:N) RETURN n;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Lo and behold, we get:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">+---------------------------------------------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| n                                           |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+---------------------------------------------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| (:N {p: &quot;This is going to be replicated!&quot;}) |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+---------------------------------------------+</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Now, go on and have fun with more complex graphs! Happy hacking!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="where-to-next"></a>Where to next?<a class="hash-link" href="#where-to-next" title="Direct link to heading">#</a></h2><p>To learn more about replication in Memgraph, visit the <strong><a href="/memgraph/next/reference-guide/replication">Reference guide</a></strong>.
For real-world examples of how to use Memgraph, we strongly suggest going through one of the available <strong><a href="/memgraph/next/tutorials">Tutorials</a></strong>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/memgraph/docs/tree/master/docs/database-functionalities/replication.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/memgraph/next/database-functionalities/query-modules/implement-query-modules"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Implement custom query modules</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/memgraph/next/database-functionalities/tensorflow-setup"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">TensorFlow Op »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link">Introduction</a></li><li><a href="#cluster-topology" class="table-of-contents__link">Cluster topology</a></li><li><a href="#configuring-the-cluster" class="table-of-contents__link">Configuring the cluster</a></li><li><a href="#where-to-next" class="table-of-contents__link">Where to next?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/memgraph/overview">Memgraph DB</a></li><li class="footer__item"><a class="footer__link-item" href="/memgraph-lab">Memgraph Lab</a></li><li class="footer__item"><a class="footer__link-item" href="/cypher-manual">Cypher manual</a></li><li class="footer__item"><a class="footer__link-item" href="/mage">MAGE</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/memgraphdb" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discourse.memgraph.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Developer Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/memgraphdb" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/memgraph" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCZ3HOJvHGxtQ_JHxOselBYg" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://memgraph.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/img/Memgraph-logo-white-rgb.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/Memgraph-logo-white-rgb.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright © 2021 Memgraph. Built by developers, for developers!</div></div></div></footer></div>
<script src="/assets/js/runtime~main.81364730.js"></script>
<script src="/assets/js/main.f7d9a401.js"></script>
</body>
</html>