<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-2.5.1 plugin-docs plugin-id-memgraph docs-doc-id-under-the-hood/storage">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Storage memory usage | Memgraph Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://memgraph.com/docs/memgraph/2.5.1/under-the-hood/storage"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:image" content="https://public-assets.memgraph.com/github-readme-images/docs.memgraph-browser.png"><meta data-rh="true" name="docusaurus_version" content="2.5.1"><meta data-rh="true" name="docusaurus_tag" content="docs-memgraph-2.5.1"><meta data-rh="true" name="docsearch:version" content="2.5.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-memgraph-2.5.1"><meta data-rh="true" property="og:title" content="Storage memory usage | Memgraph Docs"><meta data-rh="true" name="description" content="Estimating Memgraph&#x27;s storage memory usage is not entirely straightforward"><meta data-rh="true" property="og:description" content="Estimating Memgraph&#x27;s storage memory usage is not entirely straightforward"><link data-rh="true" rel="icon" href="/docs/img/social-logo-round-corners.png"><link data-rh="true" rel="canonical" href="https://memgraph.com/docs/memgraph/2.5.1/under-the-hood/storage"><link data-rh="true" rel="alternate" href="https://memgraph.com/docs/memgraph/2.5.1/under-the-hood/storage" hreflang="en"><link data-rh="true" rel="alternate" href="https://memgraph.com/docs/memgraph/2.5.1/under-the-hood/storage" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://N801ZM9TWC-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Memgraph Docs" href="/docs/opensearch.xml">









<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Encode+Sans+Condensed:500,600">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400, 500,600">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="https://memgraph.com/docs/js/load-analytics.js"></script>
<script src="https://kit.fontawesome.com/3a9f2eb5b9.js"></script>
<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="b077599c-4584-4631-bbe1-aaafe35f8e68" data-project-name="Memgraph" data-project-color="#8C0081" data-project-logo="https://avatars.githubusercontent.com/u/17707542?s=200&amp;v=4" async></script><link rel="stylesheet" href="/docs/assets/css/styles.7efc6e46.css">
<link rel="preload" href="/docs/assets/js/runtime~main.7a1bcf22.js" as="script">
<link rel="preload" href="/docs/assets/js/main.6375715c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Check out the <a target="_blank" rel="noopener noreferrer" href="https://memgraph.com/benchgraph"><b>Graph Database Performance Benchmark</b></a> 🚀</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/memgraph-logo-500x380.png" alt="Memgraph Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/img/memgraph-logo-500x380.png" alt="Memgraph Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Docs</b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/memgraph/">Memgraph</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/memgraph">Getting started</a></li><li><a class="dropdown__link" href="/docs/memgraph/installation">Install Memgraph</a></li><li><a class="dropdown__link" href="/docs/memgraph/connect-to-memgraph">Connect to Memgraph</a></li><li><a class="dropdown__link" href="/docs/memgraph/import-data">Import data</a></li><li><a class="dropdown__link" href="/docs/memgraph/export-data">Export data</a></li><li><a class="dropdown__link" href="/docs/memgraph/tutorials">Tutorials</a></li><li><a class="dropdown__link" href="/docs/memgraph/how-to-guides">How-to guides</a></li><li><a class="dropdown__link" href="/docs/memgraph/reference-guide">Reference guide</a></li><li><a class="dropdown__link" href="/docs/memgraph/under-the-hood">Under the hood</a></li><li><a class="dropdown__link" href="/docs/memgraph/changelog">Changelog</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/memgraph-lab/">Memgraph Lab</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/memgraph-lab">Getting started</a></li><li><a class="dropdown__link" href="/docs/memgraph-lab/installation">Install Memgraph Lab</a></li><li><a class="dropdown__link" href="/docs/memgraph-lab/connect-to-memgraph">Connect to Memgraph</a></li><li><a class="dropdown__link" href="/docs/memgraph-lab/user-manual">User manual</a></li><li><a class="dropdown__link" href="/docs/memgraph-lab/graph-style-script-language">Graph Style Script language</a></li><li><a class="dropdown__link" href="/docs/memgraph-lab/changelog">Changelog</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/memgraph-cloud/">Memgraph Cloud</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/memgraph-cloud/">Getting started</a></li><li><a class="dropdown__link" href="/docs/memgraph-cloud/cloud-account">Cloud account</a></li><li><a class="dropdown__link" href="/docs/memgraph-cloud/cloud-projects">Cloud projects</a></li><li><a class="dropdown__link" href="/docs/memgraph-cloud/cloud-connect">Connect to Cloud</a></li><li><a class="dropdown__link" href="/docs/memgraph-cloud/payment">Payment</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/mage">MAGE</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/mage">Getting started</a></li><li><a class="dropdown__link" href="/docs/mage/installation">Install MAGE</a></li><li><a class="dropdown__link" href="/docs/mage/usage/calling-procedures">Using query modules</a></li><li><a class="dropdown__link" href="/docs/mage/query-modules/available-queries">Available query modules</a></li><li><a class="dropdown__link" href="/docs/mage/how-to-guides/create-a-new-module-python">How-to guides</a></li><li><a class="dropdown__link" href="/docs/mage/algorithms">Algorithms</a></li><li><a class="dropdown__link" href="/docs/mage/use-cases/bioinformatics">Use cases</a></li><li><a class="dropdown__link" href="/docs/mage/contributing">Contributing</a></li><li><a class="dropdown__link" href="/docs/mage/changelog">Changelog</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/gqlalchemy/">GQLAlchemy</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/gqlalchemy/">Getting started</a></li><li><a class="dropdown__link" href="/docs/gqlalchemy/installation">Installation</a></li><li><a class="dropdown__link" href="/docs/gqlalchemy/import-data">Import data</a></li><li><a class="dropdown__link" href="/docs/gqlalchemy/how-to-guides">How-to guides</a></li><li><a class="dropdown__link" href="/docs/gqlalchemy/reference">Reference</a></li><li><a class="dropdown__link" href="/docs/gqlalchemy/under-the-hood">Under the hood</a></li><li><a class="dropdown__link" href="/docs/gqlalchemy/changelog">Changelog</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/cypher-manual/">Cypher manual</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/cypher-manual/">Getting started</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/what-are-graph-databases">What are graph databases</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/cypher-query-language">Cypher query language</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/working-with-memgraph">Working with Memgraph</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/import-data">Import data</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/connecting-nodes">Connecting nodes</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/reading-existing-data">Reading existing data</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/updating-nodes-and-relationships">Updating nodes and relationships</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/deleting-nodes-and-relationships">Deleting nodes and relationships</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/clauses">Clauses</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/extension-clauses">Extension clauses</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/functions">Using functions</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/graph-algorithms">Graph algorithms</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/query-modules">Query modules</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/other-features">Other features</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/help-center">Help</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/help-center/">Contact us</a></li><li><a class="dropdown__link" href="/docs/help-center/faq/memgraph">Memgraph FAQ</a></li><li><a class="dropdown__link" href="/docs/help-center/faq/cloud">Memgraph Cloud FAQ</a></li><li><a class="dropdown__link" href="/docs/help-center/faq/memgraph-lab">Memgraph Lab FAQ</a></li><li><a class="dropdown__link" href="/docs/help-center/faq/mage">MAGE FAQ</a></li><li><a class="dropdown__link" href="/docs/errors/">Errors overview</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/memgraph/2.5.1/">2.5.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/memgraph/next/under-the-hood/storage">Next version 🚧</a></li><li><a class="dropdown__link" href="/docs/memgraph/under-the-hood/storage">2.10.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/2.9.0/under-the-hood/storage">2.9.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/2.8.0/under-the-hood/storage">2.8.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/2.7.0/under-the-hood/storage">2.7.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/2.6.0/under-the-hood/storage">2.6.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/2.5.2/under-the-hood/storage">2.5.2</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/memgraph/2.5.1/under-the-hood/storage">2.5.1</a></li><li><a class="dropdown__link" href="/docs/memgraph/2.5.0/under-the-hood/storage">2.5.0</a></li><li><a href="https://memgraph-archive-docs.netlify.app/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Older versions 🗄️</a></li></ul></div><div class="navbar__item github-stars"><iframe src="https://ghbtns.com/github-btn.html?user=memgraph&repo=memgraph&type=star&count=true&size=large" frameborder="0" scrolling="0" title="Give Memgraph a Star on GitHub!"></iframe></div><a href="https://discord.gg/memgraph" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link" aria-label="Memgraph Discord community"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/memgraph/2.5.1/">Getting started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/memgraph/2.5.1/installation">Install Memgraph</a><button aria-label="Toggle the collapsible sidebar category &#x27;Install Memgraph&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/memgraph/2.5.1/connect-to-memgraph">Connect to Memgraph</a><button aria-label="Toggle the collapsible sidebar category &#x27;Connect to Memgraph&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/memgraph/2.5.1/import-data">Import data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Import data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/memgraph/2.5.1/tutorials">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/memgraph/2.5.1/how-to-guides">How-to guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;How-to guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/memgraph/2.5.1/reference-guide">Reference guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;Reference guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/memgraph/2.5.1/under-the-hood">Under the hood</a><button aria-label="Toggle the collapsible sidebar category &#x27;Under the hood&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/memgraph/2.5.1/under-the-hood/storage">Storage memory usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/2.5.1/under-the-hood/indexing">Indexing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/2.5.1/under-the-hood/replication">Replication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/2.5.1/under-the-hood/telemetry">Telemetry</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/memgraph/2.5.1/changelog">Changelog</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Memgraph Docs<!-- --> <b>2.5.1</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/memgraph/under-the-hood/storage">latest version</a></b> (<!-- -->2.10.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/memgraph/2.5.1/under-the-hood"><span itemprop="name">Under the hood</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Storage memory usage</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.5.1</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Storage memory usage</h1></header><p>Estimating Memgraph&#x27;s storage memory usage is not entirely straightforward
because it depends on a lot of variables, but it is possible to do so quite
accurately. Below is an example that will try to show the basic reasoning.</p><p>If you want to <strong>estimate</strong> the storage memory usage, use the following formula:</p><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">StorageRAMUsage</mtext><mo>=</mo><mtext mathvariant="monospace">NumberOfVertices</mtext><mo>×</mo><mn>260</mn><mtext>B</mtext><mo>+</mo><mtext mathvariant="monospace">NumberOfEdges</mtext><mo>×</mo><mn>180</mn><mtext>B</mtext></mrow><annotation encoding="application/x-tex">\texttt{StorageRAMUsage} = \texttt{NumberOfVertices} \times 260\text{B} + \texttt{NumberOfEdges} \times 180\text{B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.2222em"></span><span class="mord text"><span class="mord texttt">StorageRAMUsage</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6944em;vertical-align:-0.0833em"></span><span class="mord text"><span class="mord texttt">NumberOfVertices</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord">260</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.2222em"></span><span class="mord text"><span class="mord texttt">NumberOfEdges</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">180</span><span class="mord text"><span class="mord">B</span></span></span></span></span></span></p><p>Let&#x27;s test this formula on the <a href="https://memgraph.com/download/datasets/marvel-cinematic-universe/marvel-cinematic-universe.cypherl.gz" target="_blank" rel="noopener noreferrer">Marvel Comic Universe Social Network
dataset</a>,
which is also available as a dataset inside Memgraph Lab and contains 21,723
vertices and 682,943 edges. </p><p>According to the formula, storage memory usage should be: </p><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mtext mathvariant="monospace">StorageRAMUsage</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mn>21</mn><mo separator="true">,</mo><mn>723</mn><mo>×</mo><mn>260</mn><mtext>B</mtext><mo>+</mo><mn>682</mn><mo separator="true">,</mo><mn>943</mn><mo>×</mo><mn>180</mn><mtext>B</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mn>5</mn><mo separator="true">,</mo><mn>647</mn><mo separator="true">,</mo><mn>980</mn><mtext>B</mtext><mo>+</mo><mn>122</mn><mo separator="true">,</mo><mn>929</mn><mo separator="true">,</mo><mn>740</mn><mtext>B</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mn>128</mn><mo separator="true">,</mo><mn>577</mn><mo separator="true">,</mo><mn>720</mn><mtext>B</mtext><mo>≈</mo><mn>125</mn><mtext>MB</mtext></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned} \texttt{StorageRAMUsage} &amp;= 21,723 \times 260\text{B} + 682,943 \times 180\text{B} \\ &amp;= 5,647,980\text{B} + 122,929,740\text{B}\\ &amp;= 128,577,720\text{B} \approx 125\text{MB} \end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.5em;vertical-align:-2em"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.5em"><span style="top:-4.66em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord text"><span class="mord texttt">StorageRAMUsage</span></span></span></span><span style="top:-3.16em"><span class="pstrut" style="height:3em"></span><span class="mord"></span></span><span style="top:-1.66em"><span class="pstrut" style="height:3em"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2em"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.5em"><span style="top:-4.66em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mord">21</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">723</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">260</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">682</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">943</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">180</span><span class="mord text"><span class="mord">B</span></span></span></span><span style="top:-3.16em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">647</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">980</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">122</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">929</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">740</span><span class="mord text"><span class="mord">B</span></span></span></span><span style="top:-1.66em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mord">128</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">577</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">720</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mord">125</span><span class="mord text"><span class="mord">MB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2em"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>Now, let&#x27;s run an empty Memgraph instance on a x86 Ubuntu. It consumes <strong>~75MB</strong>
of RAM due to baseline runtime overhead. Once the dataset is loaded, RAM usage
rises up to <strong>~260MB</strong>. Memory usage primarily consists of storage and query
execution memory usage. After executing <code>FREE MEMORY</code> query to force the cleanup
of query execution, the RAM usage drops to <strong>~200MB</strong>. If the baseline runtime
overhead of <strong>75MB</strong> is subtracted from the total memory usage of the dataset,
which is <strong>200MB</strong>, and storage memory usage comes up to <strong>~125MB</strong>, which shows
that the formula is correct.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-calculation-in-detail">The calculation in detail<a href="#the-calculation-in-detail" class="hash-link" aria-label="Direct link to The calculation in detail" title="Direct link to The calculation in detail">​</a></h2><p>Let&#x27;s dive deeper into the memory usage values. Because Memgraph works on the
x86 architecture, calculations are based on the x86 Linux memory usage.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>For the latest and most precise memory layout please clone
<a href="https://github.com/memgraph/memgraph" target="_blank" rel="noopener noreferrer">Memgraph</a> and use, e.g.,
<a href="https://github.com/PhilArmstrong/pahole-gdb" target="_blank" rel="noopener noreferrer">pahole</a> to discover accurate
information. </p></div></div><p>Each <code>Vertex</code> and <code>Edge</code> object has a pointer to a <code>Delta</code> object. The
<code>Delta</code> object stores all changes on a certain <code>Vertex</code> or <code>Edge</code> and that&#x27;s
why <code>Vertex</code> and <code>Edge</code> memory usage will be increased by the memory of
the <code>Delta</code> objects they are pointing to. If there are few updates, there are
also few <code>Delta</code> objects because the latest data is stored in the object.
But, if the database has a lot of concurrent operations, many <code>Delta</code> objects
will be created. Of course, the <code>Delta</code> objects will be kept in memory as long as
needed, and a bit more, because of the internal GC inefficiencies.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="delta-memory-layout"><code>Delta</code> memory layout<a href="#delta-memory-layout" class="hash-link" aria-label="Direct link to delta-memory-layout" title="Direct link to delta-memory-layout">​</a></h3><p>Each <code>Delta</code> object has a least <strong>104B</strong>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="vertex-memory-layout"><code>Vertex</code> memory layout<a href="#vertex-memory-layout" class="hash-link" aria-label="Direct link to vertex-memory-layout" title="Direct link to vertex-memory-layout">​</a></h3><p>Each <code>Vertex</code> object has at least <strong>112B</strong> + <strong>104B</strong> for the <code>Delta</code> object, in
total, a minimum of <strong>216B</strong>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="edge-memory-layout"><code>Edge</code> memory layout<a href="#edge-memory-layout" class="hash-link" aria-label="Direct link to edge-memory-layout" title="Direct link to edge-memory-layout">​</a></h3><p>Each <code>Edge</code> object has at least <strong>40B</strong> + <strong>104B</strong> for the <code>Delta</code> object, in
total, a minimum of <strong>144B</strong>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="skiplist-memory-layout"><code>SkipList</code> memory layout<a href="#skiplist-memory-layout" class="hash-link" aria-label="Direct link to skiplist-memory-layout" title="Direct link to skiplist-memory-layout">​</a></h3><p>Each object (<code>Vertex</code>, <code>Edge</code>) is placed inside a data structure
called a <code>SkipList</code>. The <code>SkipList</code> has an additional overhead in terms of
<code>SkipListNode</code> structure and <code>next_pointers</code>. Each <code>SkipListNode</code> has an
additional <strong>8B</strong> element overhead and another <strong>8B</strong> for each of the <code>next_pointers</code>.</p><p>It is impossible to know the exact number of <strong>next_pointers</strong> upfront, and
consequently the total size, but it&#x27;s never more than <strong>double the number of
objects</strong> because the number of pointers is generated by binomial distribution
(take a look at <a href="https://github.com/memgraph/memgraph/blob/master/src/utils/skip_list.hpp" target="_blank" rel="noopener noreferrer">the source
code</a>
for details).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="index-memory-layout">Index memory layout<a href="#index-memory-layout" class="hash-link" aria-label="Direct link to Index memory layout" title="Direct link to Index memory layout">​</a></h3><p>Each <code>LabelIndex::Entry</code> object has exactly <strong>16B</strong>.</p><p>Depending on the actual value stored, each <code>LabelPropertyIndex::Entry</code> has at least <strong>72B</strong>.</p><p>Objects of both types are placed into the <code>SkipList</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="each-index-object-in-total">Each index object in total<a href="#each-index-object-in-total" class="hash-link" aria-label="Direct link to Each index object in total" title="Direct link to Each index object in total">​</a></h4><ul><li><code>SkipListNode&lt;LabelIndex::Entry&gt;</code> object has <strong>24B</strong>.</li><li><code>SkipListNode&lt;LabelPropertyIndex::Entry&gt;</code> has at least <strong>80B</strong>.</li><li>Each <code>SkipListNode</code> has an additional <strong>16B</strong> because of the <strong>next_pointers</strong>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="properties">Properties<a href="#properties" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties">​</a></h3><p>All properties use <strong>1B</strong> for metadata - type, size of property ID and the size
of payload in the case of <code>NULL</code> and <code>BOOLEAN</code> values, or size of payload size
indicator for other types (how big is the stored value, for example, integers
can be 1B, 2B 4B or 8b depending on their value). </p><p>Then they take up <strong>another byte</strong> for storing property ID, which means each
property takes up at least 2B. After those 2B, some properties (for example,
<code>STRING</code> values) store addition metadata. And lastly, all properties store the
value. So the layout of each property is:</p><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">propertySize</mtext><mo>=</mo><mtext mathvariant="monospace">basicMetadata</mtext><mo>+</mo><mtext mathvariant="monospace">propertyID</mtext><mo>+</mo><mo stretchy="false">[</mo><mtext mathvariant="monospace">additionalMetadata</mtext><mo stretchy="false">]</mo><mo>+</mo><mtext mathvariant="monospace">value</mtext><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\texttt{propertySize} = \texttt{basicMetadata} + \texttt{propertyID} + [\texttt{additionalMetadata}] + \texttt{value}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.2222em"></span><span class="mord text"><span class="mord texttt">propertySize</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6944em;vertical-align:-0.0833em"></span><span class="mord text"><span class="mord texttt">basicMetadata</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.2222em"></span><span class="mord text"><span class="mord texttt">propertyID</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">[</span><span class="mord text"><span class="mord texttt">additionalMetadata</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6111em"></span><span class="mord text"><span class="mord texttt">value</span></span><span class="mord">.</span></span></span></span></span></p><table><thead><tr><th>Value type</th><th>Size</th><th>Note</th></tr></thead><tbody><tr><td><code>NULL</code></td><td>1B + 1B</td><td>The value is written in the first byte of the basic metadata.</td></tr><tr><td><code>BOOL</code></td><td>1B + 1B</td><td>The value is written in the first byte of the basic metadata.</td></tr><tr><td><code>INT</code></td><td>1B + 1B + 1B, 2B, 4B or 8B</td><td>Basic metadata, property ID and the value depending on the size of the integer.</td></tr><tr><td><code>DOUBLE</code></td><td>1B + 1B + 8B</td><td>Basic metadata, property ID and the value</td></tr><tr><td><code>STRING</code></td><td>1B + 1B + 1B + min 1B</td><td>Basic metadata, property ID, additional metadata and lastly the value depending on the size of the string, where 1 ASCII character in the string takes up 1B.</td></tr><tr><td><code>LIST</code></td><td>1B + 1B + 1B + min 1B</td><td>Basic metadata, property ID, additional metadata and the total size depends on the number and size of the values in the list.</td></tr><tr><td><code>MAP</code></td><td>1B + 1B + 1B + min 1B</td><td>Basic metadata, property ID, additional metadata and the total size depends on the number and size of the values in the map.</td></tr><tr><td><code>TEMPORAL_DATA</code></td><td>1B + 1B + 1B + min 1B + min 1B</td><td>Basic metadata, property ID, additional metadata, seconds, microseconds. Value od the seconds and microseconds is at least 1B, but probably 4B in most cases due to the large values they store.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="marvel-dataset-use-case">Marvel dataset use case<a href="#marvel-dataset-use-case" class="hash-link" aria-label="Direct link to Marvel dataset use case" title="Direct link to Marvel dataset use case">​</a></h3><p>The Marvel dataset consists of <code>Hero</code>, <code>Comic</code> and <code>ComicSeries</code> labels, which
are indexed. There are also three label-property indices - on the <code>name</code>
property of <code>Hero</code> and <code>Comic</code> vertices, and on the <code>title</code> property of
<code>ComicSeries</code> vertices. The <code>ComicSeries</code> vertices also have the <code>publishYear</code>
property.</p><img loading="lazy" src="/docs/assets/images/marvel-dataset-schema-67ee0f7cee0d1be8f961455853efd61f.png" class="img_ev3q"><p>There are 6487 <code>Hero</code> and 12,661 <code>Comic</code> vertices with the property <code>name</code>.
That&#x27;s 19,148 vertices in total. To calculate how much storage those vertices
and properties occupy, we are going to use the following formula:</p><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">NumberOfVertices</mtext><mo>×</mo><mo stretchy="false">(</mo><mtext mathvariant="monospace">Vertex</mtext><mo>+</mo><mtext mathvariant="monospace">properties</mtext><mo>+</mo><mtext mathvariant="monospace">SkipListNode</mtext><mo>+</mo><mtext mathvariant="monospace">next_pointers</mtext><mo>+</mo><mtext mathvariant="monospace">Delta</mtext><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\texttt{NumberOfVertices} \times (\texttt{Vertex} + \texttt{properties} + \texttt{SkipListNode} + \texttt{next\_pointers} + \texttt{Delta}).</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;vertical-align:-0.0833em"></span><span class="mord text"><span class="mord texttt">NumberOfVertices</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord text"><span class="mord texttt">Vertex</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.2222em"></span><span class="mord text"><span class="mord texttt">properties</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.2222em"></span><span class="mord text"><span class="mord texttt">SkipListNode</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.2222em"></span><span class="mord text"><span class="mord texttt">next_pointers</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord texttt">Delta</span></span><span class="mclose">)</span><span class="mord">.</span></span></span></span></span></p><p>Let&#x27;s assume the name on average has <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mtext>B</mtext><mo>+</mo><mn>10</mn><mtext>B</mtext><mo>=</mo><mn>13</mn><mtext>B</mtext></mrow><annotation encoding="application/x-tex">3\text{B}+10\text{B} = 13\text{B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord">3</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">10</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">13</span><span class="mord text"><span class="mord">B</span></span></span></span></span></span> (each
name is on average 10 characters long). One the average values are included, the
calculation is:</p><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>19</mn><mo separator="true">,</mo><mn>148</mn><mo>×</mo><mo stretchy="false">(</mo><mn>112</mn><mtext>B</mtext><mo>+</mo><mn>13</mn><mtext>B</mtext><mo>+</mo><mn>16</mn><mtext>B</mtext><mo>+</mo><mn>16</mn><mtext>B</mtext><mo>+</mo><mn>104</mn><mtext>B</mtext><mo stretchy="false">)</mo><mo>=</mo><mn>19</mn><mo separator="true">,</mo><mn>148</mn><mo>×</mo><mn>261</mn><mtext>B</mtext><mo>=</mo><mn>4</mn><mo separator="true">,</mo><mn>997</mn><mo separator="true">,</mo><mn>628</mn><mtext>B</mtext><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">19,148 \times (112\text{B} + 13\text{B} + 16\text{B} + 16\text{B} + 104\text{B}) = 19,148 \times 261\text{B} = 4,997,628\text{B}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em"></span><span class="mord">19</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">148</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">112</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord">13</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord">16</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord">16</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">104</span><span class="mord text"><span class="mord">B</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em"></span><span class="mord">19</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">148</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">261</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">997</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">628</span><span class="mord text"><span class="mord">B</span></span><span class="mord">.</span></span></span></span></span></p><p>The remaining 2,584 vertices are the <code>ComicSeries</code> vertices with the <code>title</code> and
<code>publishYear</code> properties. Let&#x27;s assume that the <code>title</code> property is
approximately the same length as the <code>name</code> property. The <code>publishYear</code> property
is a list of integers. The average length of the <code>publishYear</code> list is 2.17,
let&#x27;s round it up to 3 elements. Since the year is an integer, 2B for each
integer will be more than enough, plus the 2B for the metadata. Therefore, each
list occupies <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><mn>2</mn><mtext>B</mtext><mo>×</mo><mn>2</mn><mtext>B</mtext><mo>=</mo><mn>12</mn><mtext>B</mtext></mrow><annotation encoding="application/x-tex">3 \times 2\text{B} \times 2\text{B} = 12\text{B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord">2</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">2</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">12</span><span class="mord text"><span class="mord">B</span></span></span></span></span></span>. Using the same
formula as above, but being careful to include both <code>title</code> and <code>publishYear</code>
properties, the calculation is:</p><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2584</mn><mo>×</mo><mo stretchy="false">(</mo><mn>112</mn><mtext>B</mtext><mo>+</mo><mn>13</mn><mtext>B</mtext><mo>+</mo><mn>12</mn><mtext>B</mtext><mo>+</mo><mn>16</mn><mtext>B</mtext><mo>+</mo><mn>16</mn><mtext>B</mtext><mo>+</mo><mn>104</mn><mtext>B</mtext><mo stretchy="false">)</mo><mo>=</mo><mn>2584</mn><mo>×</mo><mn>273</mn><mtext>B</mtext><mo>=</mo><mn>705</mn><mo separator="true">,</mo><mn>432</mn><mtext>B</mtext><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">2584 \times (112\text{B} + 13\text{B} + 12\text{B} + 16\text{B} + 16\text{B} + 104\text{B}) = 2584 \times 273\text{B} = 705,432\text{B}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em"></span><span class="mord">2584</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">112</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord">13</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord">12</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord">16</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord">16</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">104</span><span class="mord text"><span class="mord">B</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em"></span><span class="mord">2584</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">273</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord">705</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">432</span><span class="mord text"><span class="mord">B</span></span><span class="mord">.</span></span></span></span></span></p><p>In total, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mo separator="true">,</mo><mn>703</mn><mo separator="true">,</mo><mn>060</mn><mtext>B</mtext></mrow><annotation encoding="application/x-tex">5,703,060\text{B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">703</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">060</span><span class="mord text"><span class="mord">B</span></span></span></span></span></span> to store vertices.</p><p>The edges don&#x27;t have any properties on them, so the formula is as follows:</p><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">NumberOfEdges</mtext><mo>×</mo><mo stretchy="false">(</mo><mtext mathvariant="monospace">Edge</mtext><mo>+</mo><mtext mathvariant="monospace">SkipListNode</mtext><mo>+</mo><mtext mathvariant="monospace">next_pointers</mtext><mo>+</mo><mtext mathvariant="monospace">Delta</mtext><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\texttt{NumberOfEdges} \times (\texttt{Edge} + \texttt{SkipListNode} + \texttt{next\_pointers} + \texttt{Delta}).</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.2222em"></span><span class="mord text"><span class="mord texttt">NumberOfEdges</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord text"><span class="mord texttt">Edge</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.2222em"></span><span class="mord text"><span class="mord texttt">SkipListNode</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.2222em"></span><span class="mord text"><span class="mord texttt">next_pointers</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord texttt">Delta</span></span><span class="mclose">)</span><span class="mord">.</span></span></span></span></span></p><p>There are 682,943 edges in the Marvel dataset. Hence, we have:</p><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>682</mn><mo separator="true">,</mo><mn>943</mn><mo>×</mo><mo stretchy="false">(</mo><mn>40</mn><mtext>B</mtext><mo>+</mo><mn>16</mn><mtext>B</mtext><mo>+</mo><mn>16</mn><mtext>B</mtext><mo>+</mo><mn>104</mn><mtext>B</mtext><mo stretchy="false">)</mo><mo>=</mo><mn>682</mn><mo separator="true">,</mo><mn>943</mn><mo>×</mo><mn>176</mn><mtext>B</mtext><mo>=</mo><mn>120</mn><mo separator="true">,</mo><mn>197</mn><mo separator="true">,</mo><mn>968</mn><mtext>B</mtext><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">682,943 \times (40\text{B}+16\text{B}+16\text{B}+104\text{B}) = 682,943 \times 176\text{B} = 120,197,968\text{B}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em"></span><span class="mord">682</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">943</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">40</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord">16</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord">16</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">104</span><span class="mord text"><span class="mord">B</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em"></span><span class="mord">682</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">943</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">176</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord">120</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">197</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">968</span><span class="mord text"><span class="mord">B</span></span><span class="mord">.</span></span></span></span></span></p><p>Next, <code>Hero</code>, <code>Comic</code> and <code>ComicSeries</code> labels have label indices. To calculate
how much space they take up, use the following formula:</p><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">NumberOfLabelIndices</mtext><mo>×</mo><mtext mathvariant="monospace">NumberOfVertices</mtext><mo>×</mo><mo stretchy="false">(</mo><mtext mathvariant="monospace">SkipListNode&lt;LabelIndex::Entry&gt;</mtext><mo>+</mo><mtext mathvariant="monospace">next_pointers</mtext><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\texttt{NumberOfLabelIndices} \times \texttt{NumberOfVertices} \times (\texttt{SkipListNode&lt;LabelIndex::Entry&gt;} + \texttt{next\_pointers}).</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;vertical-align:-0.0833em"></span><span class="mord text"><span class="mord texttt">NumberOfLabelIndices</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6944em;vertical-align:-0.0833em"></span><span class="mord text"><span class="mord texttt">NumberOfVertices</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord text"><span class="mord texttt">SkipListNode&lt;LabelIndex::Entry&gt;</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord texttt">next_pointers</span></span><span class="mclose">)</span><span class="mord">.</span></span></span></span></span></p><p>Since there are three label indices, we have the following calculation:</p><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><mn>21</mn><mo separator="true">,</mo><mn>723</mn><mo>×</mo><mo stretchy="false">(</mo><mn>24</mn><mtext>B</mtext><mo>+</mo><mn>16</mn><mtext>B</mtext><mo stretchy="false">)</mo><mo>=</mo><mn>65</mn><mo separator="true">,</mo><mn>169</mn><mo>×</mo><mn>40</mn><mtext>B</mtext><mo>=</mo><mn>2</mn><mo separator="true">,</mo><mn>606</mn><mo separator="true">,</mo><mn>760</mn><mtext>B</mtext><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">3 \times 21,723 \times (24\text{B}+16\text{B}) = 65,169 \times 40\text{B} = 2,606,760\text{B}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em"></span><span class="mord">21</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">723</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">24</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">16</span><span class="mord text"><span class="mord">B</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em"></span><span class="mord">65</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">169</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">40</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">606</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">760</span><span class="mord text"><span class="mord">B</span></span><span class="mord">.</span></span></span></span></span></p><p>For label-property index, labeled property needs to be taken into account.
Property <code>name</code> is indexed on <code>Hero</code> and <code>Comic</code> vertices, while property
<code>title</code> is indexed on <code>ComicSeries</code> vertices. We already assumed that the
<code>title</code> property is approximately the same length as the <code>name</code> property. </p><p>Here is the formula:</p><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">NumberOfLabelPropertyIndices</mtext><mo>×</mo><mtext mathvariant="monospace">NumberOfVertices</mtext><mo>×</mo><mo stretchy="false">(</mo><mtext mathvariant="monospace">SkipListNode&lt;LabelIndex::Entry&gt;</mtext><mo>+</mo><mtext mathvariant="monospace">property</mtext><mo>+</mo><mtext mathvariant="monospace">next_pointers</mtext><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\texttt{NumberOfLabelPropertyIndices} \times \texttt{NumberOfVertices} \times (\texttt{SkipListNode&lt;LabelIndex::Entry&gt;} + \texttt{property} + \texttt{next\_pointers}).</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.2222em"></span><span class="mord text"><span class="mord texttt">NumberOfLabelPropertyIndices</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6944em;vertical-align:-0.0833em"></span><span class="mord text"><span class="mord texttt">NumberOfVertices</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord text"><span class="mord texttt">SkipListNode&lt;LabelIndex::Entry&gt;</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8055em;vertical-align:-0.2222em"></span><span class="mord text"><span class="mord texttt">property</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord texttt">next_pointers</span></span><span class="mclose">)</span><span class="mord">.</span></span></span></span></span></p><p>When the appropriate values are included, the calculation is:</p><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><mn>21</mn><mo separator="true">,</mo><mn>723</mn><mo>×</mo><mo stretchy="false">(</mo><mn>80</mn><mtext>B</mtext><mo>+</mo><mn>13</mn><mtext>B</mtext><mo>+</mo><mn>16</mn><mtext>B</mtext><mo stretchy="false">)</mo><mo>=</mo><mn>65</mn><mo separator="true">,</mo><mn>169</mn><mo>×</mo><mn>109</mn><mtext>B</mtext><mo>=</mo><mn>7</mn><mo separator="true">,</mo><mn>103</mn><mo separator="true">,</mo><mn>421</mn><mtext>B</mtext><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">3 \times 21,723 \times (80\text{B}+13\text{B}+16\text{B})= 65,169 \times 109\text{B} = 7,103,421\text{B}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em"></span><span class="mord">21</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">723</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">80</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord">13</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">16</span><span class="mord text"><span class="mord">B</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em"></span><span class="mord">65</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">169</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">109</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord">7</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">103</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">421</span><span class="mord text"><span class="mord">B</span></span><span class="mord">.</span></span></span></span></span></p><p>Now let&#x27;s sum up everything we calculated:</p><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mo separator="true">,</mo><mn>703</mn><mo separator="true">,</mo><mn>060</mn><mtext>B</mtext><mo>+</mo><mn>120</mn><mo separator="true">,</mo><mn>197</mn><mo separator="true">,</mo><mn>968</mn><mtext>B</mtext><mo>+</mo><mn>2</mn><mo separator="true">,</mo><mn>606</mn><mo separator="true">,</mo><mn>760</mn><mtext>B</mtext><mo>+</mo><mn>7</mn><mo separator="true">,</mo><mn>103</mn><mo separator="true">,</mo><mn>421</mn><mtext>B</mtext><mo>=</mo><mn>135</mn><mo separator="true">,</mo><mn>611</mn><mo separator="true">,</mo><mn>209</mn><mtext>B</mtext><mo>≈</mo><mn>130</mn><mtext>MB</mtext><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">5,703,060\text{B} + 120,197,968\text{B} + 2,606,760\text{B} + 7,103,421\text{B} = 135,611,209 \text{B} \approx 130\text{MB}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">703</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">060</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord">120</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">197</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">968</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">606</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">760</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord">7</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">103</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">421</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord">135</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">611</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">209</span><span class="mord text"><span class="mord">B</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">130</span><span class="mord text"><span class="mord">MB</span></span><span class="mord">.</span></span></span></span></span></p><p>Bear in mind the number can vary because objects can have higher overhead due to
the additional data.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="query-execution-memory-usage">Query Execution memory Usage<a href="#query-execution-memory-usage" class="hash-link" aria-label="Direct link to Query Execution memory Usage" title="Direct link to Query Execution memory Usage">​</a></h2><p>Query execution also uses up RAM. In some cases, intermediate results are
aggregated to return valid query results and the query execution memory can end
up using a large amount of RAM. Keep in mind that query execution memory
monotonically grows in size during the execution, and it&#x27;s freed once the query
execution is done.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-options-to-reduce-memory-usage">Configuration options to reduce memory usage<a href="#configuration-options-to-reduce-memory-usage" class="hash-link" aria-label="Direct link to Configuration options to reduce memory usage" title="Direct link to Configuration options to reduce memory usage">​</a></h2><p>Here are several tips how you can reduce memory usage and increase scalability:</p><ol><li>Consider removing label index by executing <code>DROP INDEX ON :Label;</code> </li><li>Consider removing label-property index by executing <code>DROP INDEX
ON :Label(property);</code> </li><li>If you don&#x27;t have properties on relationships, disable them in the
configuration file by setting the <code>-storage-properties-on-edges</code> flag to
<code>false</code>. This can significantly reduce memory usage because effectively
<code>Edge</code> objects will not be created, and all information will be inlined under
<code>Vertex</code> objects. You can disable properties on relationships with a
non-empty database, if the relationships are without properties. If you need
help with adapting the configuration to your needs, check out the the how-to
guide on <a href="/docs/memgraph/2.5.1/how-to-guides/config-logs">changing configuration settings</a>. </li></ol><p>You can also check our reference guide for information about <a href="/docs/memgraph/2.5.1/reference-guide/memory-control">controlling memory
usage</a>, and you
<a href="/docs/memgraph/2.5.1/reference-guide/inspecting-queries">inspect</a> and
<a href="/docs/memgraph/2.5.1/reference-guide/profiling-queries">profile</a> your queries
to devise a plan for their optimization.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/memgraph/docs/tree/master/memgraph_versioned_docs/version-2.5.1/under-the-hood/storage.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/memgraph/2.5.1/under-the-hood"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Under the hood</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/memgraph/2.5.1/under-the-hood/indexing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Indexing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-calculation-in-detail" class="table-of-contents__link toc-highlight">The calculation in detail</a><ul><li><a href="#delta-memory-layout" class="table-of-contents__link toc-highlight"><code>Delta</code> memory layout</a></li><li><a href="#vertex-memory-layout" class="table-of-contents__link toc-highlight"><code>Vertex</code> memory layout</a></li><li><a href="#edge-memory-layout" class="table-of-contents__link toc-highlight"><code>Edge</code> memory layout</a></li><li><a href="#skiplist-memory-layout" class="table-of-contents__link toc-highlight"><code>SkipList</code> memory layout</a></li><li><a href="#index-memory-layout" class="table-of-contents__link toc-highlight">Index memory layout</a></li><li><a href="#properties" class="table-of-contents__link toc-highlight">Properties</a></li><li><a href="#marvel-dataset-use-case" class="table-of-contents__link toc-highlight">Marvel dataset use case</a></li></ul></li><li><a href="#query-execution-memory-usage" class="table-of-contents__link toc-highlight">Query Execution memory Usage</a></li><li><a href="#configuration-options-to-reduce-memory-usage" class="table-of-contents__link toc-highlight">Configuration options to reduce memory usage</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/memgraph">Memgraph</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/memgraph-lab">Memgraph Lab</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/memgraph-cloud">Memgraph Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cypher-manual">Cypher manual</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/mage">MAGE</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/gqlalchemy">GQLAlchemy</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/memgraph" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/memgraphdb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/memgraphdb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://memgraph.com/cloud" target="_blank" rel="noopener noreferrer" class="footer__link-item">Memgraph Cloud<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://playground.memgraph.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Memgraph Playground<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/memgraph/memgraph" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCZ3HOJvHGxtQ_JHxOselBYg" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://memgraph.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/docs/img/Memgraph-logo-white-rgb.png" alt="Memgraph Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="160" height="74"><img src="/docs/img/Memgraph-logo-white-rgb.png" alt="Memgraph Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="160" height="74"></a></div><div class="footer__copyright">Copyright © 2023 Memgraph. Built by developers, for developers!</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.7a1bcf22.js"></script>
<script src="/docs/assets/js/main.6375715c.js"></script>
</body>
</html>