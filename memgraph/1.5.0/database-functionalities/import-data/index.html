<!doctype html>
<html class="docs-version-1.5.0" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="search" type="application/opensearchdescription+xml" title="Memgraph Docs" href="/docs/opensearch.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Encode+Sans+Condensed:500,600">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400, 500,600">
<script src="https://memgraph.com/docs/js/load-analytics.js"></script>
<script src="https://kit.fontawesome.com/3a9f2eb5b9.js"></script><title data-react-helmet="true">Import data | Memgraph Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://memgraph.com/docs/memgraph/1.5.0/database-functionalities/import-data"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="1.5.0"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-memgraph-1.5.0"><meta data-react-helmet="true" property="og:title" content="Import data | Memgraph Docs"><meta data-react-helmet="true" name="description" content="Memgraph comes with tools for importing data into the database. Data can be"><meta data-react-helmet="true" property="og:description" content="Memgraph comes with tools for importing data into the database. Data can be"><link data-react-helmet="true" rel="shortcut icon" href="/docs/img/social-logo-round-corners.png"><link data-react-helmet="true" rel="canonical" href="https://memgraph.com/docs/memgraph/1.5.0/database-functionalities/import-data"><link data-react-helmet="true" rel="alternate" href="https://memgraph.com/docs/memgraph/1.5.0/database-functionalities/import-data" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://memgraph.com/docs/memgraph/1.5.0/database-functionalities/import-data" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/docs/assets/css/styles.7eeded3f.css">
<link rel="preload" href="/docs/assets/js/runtime~main.14053b29.js" as="script">
<link rel="preload" href="/docs/assets/js/main.54e9a866.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><div class="announcementBar_3WsW" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="announcementBarPlaceholder_2m9F"></div><div class="announcementBarContent_3EUC">üèÜ Keep Rockin‚Äô & Start Coding! Register and win $2,000! <a target="_blank" rel="noopener noreferrer" href="https://memgraph.com/memgraph-app-challenge"><b>Join the challenge</b></a> üèÜ</div><button type="button" class="clean-btn close announcementBarClose_38nx" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/memgraph-logo-500x380.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/docs/img/memgraph-logo-500x380.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Docs</b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link" href="/docs/memgraph/getting-started">Memgraph</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/memgraph/getting-started">Getting started</a></li><li><a class="dropdown__link" href="/docs/memgraph/installation">Installation</a></li><li><a class="dropdown__link" href="/docs/memgraph/import-data">Import data</a></li><li><a class="dropdown__link" href="/docs/memgraph/connect-to-memgraph">Connect to Memgraph</a></li><li><a class="dropdown__link" href="/docs/memgraph/reference-guide">Reference guide</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/memgraph-lab/">Memgraph Lab</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" href="/docs/cypher-manual/">Cypher manual</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/cypher-manual/">Overview</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/functions">Functions</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/clauses">Clauses</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/other-features">Other features</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/differences">Differences</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" href="/docs/mage">MAGE</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/mage">Overview</a></li><li><a class="dropdown__link" href="/docs/mage/installation">Installation</a></li><li><a class="dropdown__link" href="/docs/mage/usage/calling-procedures">Usage</a></li><li><a class="dropdown__link" href="/docs/mage/contributing">Contributing</a></li><li><a class="dropdown__link" href="/docs/mage/getting-help">Getting help</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/help-center">Help Center</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/docs/memgraph/1.5.0/overview">1.5.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/memgraph/next/getting-started">Unreleased üöß</a></li><li><a class="dropdown__link" href="/docs/memgraph/getting-started">2.1.1</a></li><li><a class="dropdown__link" href="/docs/memgraph/2.1.0/getting-started">2.1.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/2.0.1/getting-started">2.0.1</a></li><li><a class="dropdown__link" href="/docs/memgraph/2.0.0/getting-started">2.0.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/1.6.1/getting-started">1.6.1</a></li><li><a class="dropdown__link" href="/docs/memgraph/1.6.0/overview">1.6.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/memgraph/1.5.0/database-functionalities/import-data">1.5.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/1.4.0/database-functionalities/import-data">1.4.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/1.3.0/database-functionalities/import-data">1.3.0</a></li></ul></div><a href="https://github.com/memgraph/memgraph" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">üåú</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">üåû</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/memgraph/1.5.0/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Getting started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Installation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorials</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Database functionalities</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.5.0/database-functionalities">Database functionalities overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/memgraph/1.5.0/database-functionalities/import-data">Import data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.5.0/database-functionalities/inspecting-queries">Inspecting queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.5.0/database-functionalities/profiling-queries">Profiling queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.5.0/database-functionalities/tensorflow-setup">TensorFlow Op</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.5.0/database-functionalities/replication">Replication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.5.0/database-functionalities/triggers">Triggers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.5.0/reference-guide/backup">Backup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.5.0/database-functionalities/memory-control">Memory control</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Enforcing constraints</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Query modules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.5.0/database-functionalities/manage-user-privileges">User privileges (Enterprise)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.5.0/database-functionalities/manage-users-using-ldap">Authentication and authorization (Enterprise)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reference guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Concepts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Drivers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/memgraph/1.5.0/upcoming-features">Upcoming features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/memgraph/1.5.0/changelog">Changelog</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Getting help</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Memgraph Docs<!-- --> <b>1.5.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/memgraph/getting-started">latest version</a></b> (<!-- -->2.1.1<!-- -->).</div></div><div class="docItemContainer_33ec"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->1.5.0</span><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Import data</h1></header><p>Memgraph comes with tools for importing data into the database. Data can be
imported programatically using the <code>LOAD CSV</code> Cypher clause, using the <a href="#csv-import-tool">CSV import tool</a>,
or using saved <a href="#importing-cypher-queries">cypher queries</a> with <code>mgconsole</code> running
in non-interactive mode.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="csv-import-tool">CSV Import Tool<a aria-hidden="true" class="hash-link" href="#csv-import-tool" title="Direct link to heading">‚Äã</a></h2><p>CSV is a universal and very versatile data format used to store large
quantities of data.  Each Memgraph database instance has a CSV import tool
installed called <code>mg_import_csv</code>.  The CSV import tool should be used for
initial bulk ingestion of data into the database.  Upon ingestion, the CSV
importer creates a snapshot that will be used by the database to recover its
state on its next startup.</p><p>If you are already familiar with the Neo4j bulk import tool, then using the
<code>mg_import_csv</code> tool should be easy.  The CSV import tool is fully compatible
with the <a href="https://neo4j.com/docs/operations-manual/current/tools/import/" target="_blank" rel="noopener noreferrer">Neo4j CSV
format</a>.  If
you already have a pipeline set-up for Neo4j, you should only replace
<code>neo4j-admin import</code> with <code>mg_import_csv</code>.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="csv-file-format">CSV File Format<a aria-hidden="true" class="hash-link" href="#csv-file-format" title="Direct link to heading">‚Äã</a></h3><p>Each row of a CSV file represents a single entry that should be imported into
the database.  Both nodes and relationships can be imported into the database
using CSV files.</p><p>Each set of CSV files must have a header that describes the data that is stored
in the CSV files.  Each field in the CSV header is in the format
<code>&lt;name&gt;[:&lt;type&gt;]</code> which identifies the name that should be used for that column
and the type that should be used for that column.  The type is optional and
defaults to <code>string</code> (see the following chapter).</p><p>Each CSV field must be divided using the delimiter (<code>--delimiter</code> flag) and
each CSV field can either be quoted or unquoted.  When the field is quoted, the
first and last character in the field <em>must</em> be the quote character (<code>--quote</code>
flag).  If the field isn&#x27;t quoted, and a quote character appears in it, it is
treated as a regular character.  If a quote character appears inside a quoted
string then the quote character must be doubled in order to escape it.  Line
feeds and carriage returns are ignored in the CSV file, also, the file can&#x27;t
contain a NULL character.</p><p>The CSV parser uses the same logic as the standard Python CSV parser.  The data
is parsed in the same way as the following snippet:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> csv</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> row </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> csv</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">reader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">stream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> strict</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># process &#x27;row&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Python uses &#x27;excel&#x27; as the default dialect when parsing CSV files and the
default settings for the CSV parser are:</p><ul><li>delimiter: <code>&#x27;,&#x27;</code></li><li>doublequote: <code>True</code></li><li>escapechar: <code>None</code></li><li>lineterminator: <code>&#x27;\r\n&#x27;</code></li><li>quotechar: <code>&#x27;&quot;&#x27;</code></li><li>skipinitialspace: <code>False</code></li></ul><p>The above snippet can be expanded to:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> csv</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> row </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> csv</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">reader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">stream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> delimiter</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;,&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> doublequote</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                      escapechar</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> lineterminator</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;\r\n&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                      quotechar</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> skipinitialspace</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">False</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                      strict</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># process &#x27;row&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>For more information about the meaning of the above values, see:
<a href="https://docs.python.org/3/library/csv.html#csv.Dialect" target="_blank" rel="noopener noreferrer">https://docs.python.org/3/library/csv.html#csv.Dialect</a></p><h4 class="anchor anchorWithStickyNavbar_31ik" id="properties">Properties<a aria-hidden="true" class="hash-link" href="#properties" title="Direct link to heading">‚Äã</a></h4><p>Both nodes and relationships can have properties added to them.  When importing
properties, the CSV importer uses the name specified in the header of the
corresponding CSV column for the name of the property.  A property is
designated by specifying one of the following types in the header:</p><ul><li><code>integer</code>, <code>int</code>, <code>long</code>, <code>byte</code>, <code>short</code>: creates an integer property</li><li><code>float</code>, <code>double</code>: creates a float property</li><li><code>boolean</code>, <code>bool</code>: creates a boolean property</li><li><code>string</code>, <code>char</code>: creates a string property</li></ul><p>When importing a boolean value, the CSV field should contain exactly the text
<code>true</code> to import a <code>True</code> boolean value.  All other text values are treated as
a boolean value <code>False</code>.</p><p>If you want to import an array of values, you can do so by appending <code>[]</code> to
any of the above types.  The values of the array are then determined by
splitting the raw CSV value using the array delimiter (<code>--array-delimiter</code>
flag) character.</p><p>Assuming that the array delimiter is <code>;</code>, the following example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">first_name,last_name:string,number:integer,aliases:string[]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">John,Doe,1,Johnny;Jo;J-man</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Melissa,Doe,2,Mel</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Will yield these results:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE ({first_name: &quot;John&quot;, last_name: &quot;Doe&quot;, number: 1, aliases: [&quot;Johnny&quot;, &quot;Jo&quot;, &quot;J-man&quot;]});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE ({first_name: &quot;Melissa&quot;, last_name: &quot;Doe&quot;, number: 2, aliases: [&quot;Mel&quot;]});</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_31ik" id="nodes">Nodes<a aria-hidden="true" class="hash-link" href="#nodes" title="Direct link to heading">‚Äã</a></h4><p>When importing nodes, several more types can be specified in the header of the
CSV file (along with all property types):</p><ul><li><code>ID</code>: id of the node that should be used as the node ID when importing relationships</li><li><code>LABEL</code>: designates that the field contains additional labels for the node</li><li><code>IGNORE</code>: designates that the field should be ignored</li></ul><p>The <code>ID</code> field type sets the internal ID that will be used for the node when
creating relationships.  It is optional and nodes that don&#x27;t have an ID value
specified will be imported, but can&#x27;t be connected to any relationships.  If
you want to save the ID value as a property in the database, just specify a
name for the ID (<code>user_id:ID</code>).  If you just want to use the ID during the
import, leave out the name of the field (<code>:ID</code>).  The <code>ID</code> field also supports
creating separate ID spaces.  The ID space is specified with the ID space name
appended to the <code>ID</code> type in parentheses (<code>ID(user)</code>).  That allows you to have
the same IDs (by value) for multiple different node files (for example, numbers
from 1 to N).  The IDs in each ID space will be treated as an independent set
of IDs that don&#x27;t interfere with IDs in another ID space.</p><p>The <code>LABEL</code> field type adds additional labels to the node.  The value is
treated as an array type so that multiple additional labels can be specified
for each node.  The value is split using the array delimiter
(<code>--array-delimiter</code> flag).</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="relationships">Relationships<a aria-hidden="true" class="hash-link" href="#relationships" title="Direct link to heading">‚Äã</a></h4><p>In order to be able to import relationships, you must import the nodes in the
same invocation of <code>mg_import_csv</code> that is used to import the relationships.</p><p>When importing relationships, several more types can be specified in the header
of the CSV file (along with all property types):</p><ul><li><code>START_ID</code>: id of the start node that should be connected with the relationship</li><li><code>END_ID</code>: id of the end node that should be connected with the relationship</li><li><code>TYPE</code>: designates the type of the relationship</li><li><code>IGNORE</code>: designates that the field should be ignored</li></ul><p>The <code>START_ID</code> field type sets the start node that should be connected with the
relationship to the end node.  The field <em>must</em> be specified and the node ID
must be one of the node IDs that were specified in the node CSV files.  The
name of this field is ignored.  If the node ID is in an ID space, you can
specify the ID space for the in the same way as for the node ID
(<code>START_ID(user)</code>).</p><p>The <code>END_ID</code> field type sets the end node that should be connected with the
relationship to the start node.  The field <em>must</em> be specified and the node ID
must be one of the node IDs that were specified in the node CSV files.  The
name of this field is ignored.  If the node ID is in an ID space, you can
specify the ID space for the in the same way as for the node ID
(<code>END_ID(user)</code>).</p><p>The <code>TYPE</code> field type sets the type of the relationship.  Each relationship
<em>must</em> have a relationship type, but it doesn&#x27;t necessarily need to be
specified in the CSV file, it can also be set externally for the whole CSV
file.  The name of this field is ignored.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="csv-importer-flags">CSV Importer Flags<a aria-hidden="true" class="hash-link" href="#csv-importer-flags" title="Direct link to heading">‚Äã</a></h3><p>The importer has many command line options that allow you to customize the way
the importer loads your data.</p><p>The two main flags that are used to specify the input CSV files are <code>--nodes</code>
and <code>--relationships</code>.</p><p>The <code>--nodes</code> flag is used to specify CSV files that contain the nodes to the
importer.  Multiple files can be specified in each supplied <code>--nodes</code> flag.
Files that are supplied in one <code>--nodes</code> flag are treated by the CSV parser as
one big CSV file.  Only the first line of the first file is parsed for the CSV
header, all other files (and rows) are treated as data.  This is useful when
you have a very large CSV file and don&#x27;t want to edit its first line just to
add a CSV header.  Instead, you can specify the header in a separate file (e.g.
<code>users_header.csv</code>) and have the data intact in the large file (e.g.
<code>users.csv</code>).  Also, you can supply additional labels for each set of node
files.  The format of this flag is:
<code>[&lt;label&gt;[:&lt;label&gt;]...=]&lt;file&gt;[,&lt;file&gt;][,&lt;file&gt;]...</code>.  Take note that only the
<code>&lt;file&gt;</code> part is mandatory, all other parts of the flag value are optional.
Multiple <code>--nodes</code> flags can be supplied to describe multiple sets of different
node files.  For the importer to work, at least one <code>--nodes</code> flag must be
supplied.</p><p>The <code>--relationships</code> flag is used to specify CSV files that contain the
relationships to the importer.  Multiple files can be specified in each
supplied <code>--relationships</code> flag.  Files that are supplied in one
<code>--relationships</code> flag are treated by the CSV parser as one big CSV file.  Only
the first line of the first file is parsed for the CSV header, all other files
(and rows) are treated as data.  This is useful when you have a very large CSV
file and don&#x27;t want to edit its first line just to add a CSV header.  Instead,
you can specify the header in a separate file (e.g. <code>friendships_header.csv</code>)
and have the data intact in the large file (e.g. <code>friendships.csv</code>).  Also, you
can set the type of all relationships in the files for each set of
relationships files.  The format of this flag is:
<code>[&lt;type&gt;=]&lt;file&gt;[,&lt;file&gt;][,&lt;file&gt;]...</code>.  Take note that only the <code>&lt;file&gt;</code> part
is mandatory, all other parts of the flag value are optional.  Multiple
<code>--relationships</code> flags can be supplied to describe multiple sets of different
relationship files.  The <code>--relationships</code> flag isn&#x27;t mandatory.</p><p>The <code>--delimiter</code> flag (default <code>,</code>) sets the delimiter that should be used
when splitting the CSV fields.</p><p>The <code>--quote</code> flag (default <code>&quot;</code>) sets the quote character that should be used
to quote a CSV field.</p><p>The <code>--array-delimiter</code> flag (default <code>;</code>) sets the delimiter that should be
used when splitting array values.</p><p>The <code>--id-type</code> flag (default <code>STRING</code>) specifies which data type should be
used to store the supplied node IDs when storing them as properties (if the
field name is supplied).  The supported values are either <code>STRING</code> or
<code>INTEGER</code>.</p><p>The <code>--ignore-empty-strings</code> flag (default <code>false</code>) tells the importer to treat
all empty strings as <code>Null</code> values instead of an empty string value.</p><p>The <code>--ignore-extra-columns</code> flag (default <code>false</code>) tells the importer to
ignore all columns (instead of raising an error) that aren&#x27;t specified after
the last specified column in the CSV header.</p><p>The <code>--skip-bad-relationships</code> flag (default <code>false</code>) tells the importer to
ignore all relationships (instead of raising an error) that refer to nodes that
don&#x27;t exist in the node files.</p><p>The <code>--skip-duplicate-nodes</code> flag (default <code>false</code>) tells the importer to
ignore all duplicate nodes (instead of raising an error).  Duplicate nodes are
nodes that have an ID that is the same as another node that was already
imported.</p><p>The <code>--trim-strings</code> flag (default <code>false</code>) tells the importer to trim all of
the loaded CSV field values before processing them further.  Trimming the
fields removes all leading and trailing whitespace from them.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="how-to-use-the-csv-import-tool">How to Use the CSV Import Tool?<a aria-hidden="true" class="hash-link" href="#how-to-use-the-csv-import-tool" title="Direct link to heading">‚Äã</a></h3><p>The import tool is run from the console, using the <code>mg_import_csv</code> command.
The tool should be run as user <code>memgraph</code>, using the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo -u memgraph mg_import_csv</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If you installed Memgraph using Docker, you will need to run the importer
using the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -v mg_lib:/var/lib/memgraph -v mg_etc:/etc/memgraph -v mg_import:/import-data </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --entrypoint</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">mg_import_csv memgraph</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can pass CSV files containing node data using the <code>--nodes</code> option.
Multiple files can be specified by repeating the <code>--nodes</code> option.  At least
one node file should be specified. Similarly, graph edges (also known as
relationships) are passed via the <code>--relationships</code> option.  Multiple
relationship files are imported by repeating the option. Unlike nodes,
relationships are not required.</p><p>Internally, the CSV import tool creates a database snapshot from the CSV files.
By default, the tool will search for the installed Memgraph configuration and
will store the snapshot inside its configured data directory using the
configured properties on edges setting. If the configuration isn&#x27;t found, you
will need to use the <code>--data-directory</code> option to specify the data directory
and <code>--storage-properties-on-edges</code> to specify whether properties on edges are
enabled. Naturally, you can use the same options to override the default
behavior. Memgraph will recover the imported data on the next startup by
looking in the data directory. For more details on Memgraph&#x27;s durability and
data recovery features, please check out the appropriate
<a href="/docs/memgraph/1.5.0/concepts/storage">article</a>.</p><p>It is also important to note that importing CSV data using the <code>mg_import_csv</code>
command should be a one-time operation before running Memgraph. In other
words, this tool should not be used to import data into an already running
Memgraph instance.</p><p>For information on other options, run:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> -u memgraph mg_import_csv --help</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>When using Docker, this translates to:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run --entrypoint</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">mg_import_csv memgraph --help</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="example">Example<a aria-hidden="true" class="hash-link" href="#example" title="Direct link to heading">‚Äã</a></h3><p>Let&#x27;s import a simple dataset.</p><p>Store the following in <code>comment_nodes.csv</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csv"><pre tabindex="0" class="prism-code language-csv codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">id:ID(COMMENT_ID),country:string,browser:string,content:string,:LABEL</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">0,Croatia,Chrome,yes,Message;Comment</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1,United Kingdom,Chrome,thanks,Message;Comment</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">2,Germany,,LOL,Message;Comment</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">3,France,Firefox,I see,Message;Comment</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">4,Italy,Internet Explorer,fine,Message;Comment</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Now, let&#x27;s add <code>forum_nodes.csv</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csv"><pre tabindex="0" class="prism-code language-csv codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">id:ID(FORUM_ID),title:string,:LABEL</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">0,General,Forum</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1,Support,Forum</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">2,Music,Forum</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">3,Film,Forum</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">4,Programming,Forum</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>And finally, set relationships between comments and forums in
<code>relationships.csv</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csv"><pre tabindex="0" class="prism-code language-csv codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">:START_ID(COMMENT_ID),:END_ID(FORUM_ID),:TYPE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">0,0,POSTED_ON</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1,1,POSTED_ON</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">2,2,POSTED_ON</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">3,3,POSTED_ON</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">4,4,POSTED_ON</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Now, you can import the dataset using the CSV importer tool.</p><p>WARNING: Your existing snapshot and WAL data will be considered obsolete, and
Memgraph will load the new dataset.</p><p>Use the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> -u memgraph mg_import_csv --nodes comment_nodes.csv --nodes forum_nodes.csv --relationships relationships.csv</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If using Docker, things are a bit more complicated. First you need to copy the
CSV files where the Docker image can see them:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker container create --name mg_import_helper -v mg_import:/import-data busybox</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> comment_nodes.csv mg_import_helper:/import-data</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> forum_nodes.csv mg_import_helper:/import-data</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> relationships.csv mg_import_helper:/import-data</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker </span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> mg_import_helper</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then, run the importer with the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -v mg_lib:/var/lib/memgraph -v mg_etc:/etc/memgraph -v mg_import:/import-data </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --entrypoint</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">mg_import_csv memgraph </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --nodes /import-data/comment_nodes.csv --nodes /import-data/forum_nodes.csv </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --relationships /import-data/relationships.csv</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Next time you run Memgraph, the dataset will be loaded.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="importing-cypher-queries">Importing Cypher queries<a aria-hidden="true" class="hash-link" href="#importing-cypher-queries" title="Direct link to heading">‚Äã</a></h2><p>When Memgraph is running, cypher queries are imported by running <code>mgconsole</code> in
non-interactive mode. The user can import queries saved in e.g. <code>queries.txt</code>
by issuing the following shell command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mgconsole --use-ssl=False &lt; queries.txt</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If you installed Memgraph using Docker, you will need to run the client using
the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -i --entrypoint=mgconsole memgraph --host HOST --use-ssl=False &lt; queries.txt</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Remember to replace <code>HOST</code> with valid IP of the container (see
<a href="/docs/memgraph/1.5.0/how-to-work-with-docker#docker-container-ip-address">Note for Docker users</a>).</p><p>For more information about <code>mgconsole</code> options run:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mgconsole --help</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="using-the-load-csv-cypher-clause">Using the <code>LOAD CSV</code> Cypher clause<a aria-hidden="true" class="hash-link" href="#using-the-load-csv-cypher-clause" title="Direct link to heading">‚Äã</a></h2><p>The <code>LOAD CSV</code> clause enables you to load and use data from a CSV file of your
choosing in a row-based manner, within a query. We support the Excel CSV dialect,
as it&#x27;s the most commonly used one.</p><p>The syntax of the clause is:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">LOAD CSV FROM &lt;csv-file-path&gt; ( WITH | NO ) HEADER [IGNORE BAD] [DELIMITER &lt;delimiter-string&gt;] [QUOTE &lt;quote-string&gt;] AS &lt;variable-name&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li><p><code>&lt;csv-file-path</code> is a string holding the path to the CSV file. There are no
restrictions on where in your filesystem the file can be located, as long as
the path is valid (i.e. the file exists).</p></li><li><p><code>( WITH | NO ) HEADER </code> flag specifies whether the CSV file is to be
parsed as though it has or hasn&#x27;t got a header.</p></li><li><p><code>IGNORE BAD</code> flag specifies whether rows containing errors should be ignored or
not. If it&#x27;s set, the parser attempts to return the first valid row from the CSV
file. If it isn&#x27;t set, an exception will be thrown on first invalid row
encountered.</p></li><li><p><code>DELIMITER &lt;delimiter-string&gt;</code> option enables you to specify the CSV delimiter
character. If it isn&#x27;t set, the default delimiter character <code>,</code> is assumed.</p></li><li><p><code>QUOTE &lt;quote-string&gt;</code> option enables you to specify the CSV quote character.
If it isn&#x27;t set, the default quote character <code>&quot;</code> is assumed.</p></li><li><p><code>&lt;variable-name&gt;</code> is a symbolic name representing the variable to which the
contents of the parsed row will be bound to, enabling access to the row contents
later in the query.</p></li></ul><p>The clause reads row by row from a CSV file, and binds the contents of the
parsed row to the variable you specified.</p><p>It&#x27;s important to note that the parser parses the values as strings. It&#x27;s up to
the user to convert the parsed row values to the appropriate type. This can be
done using the built-in conversion functions such as <code>ToInteger</code>, <code>ToFloat</code>,
<code>ToBoolean</code> etc. Consult the documentation on the available conversion functions.</p><p>Depending on how you set the <code>HEADER</code> option (<code>WITH</code> or <code>NO</code>), a row will
be parsed as either a map or a list.</p><p>If the <code>WITH HEADER</code> option is set, the very first line in the file will be
parsed as the header, and any remaining rows will be parsed as regular rows.
The value bound to the row variable will be a map of the form:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{ ( &quot;header_field&quot; : &quot;row_value&quot; )? ( , &quot;header_field&quot; : &quot;row_value&quot; )* }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>To access a given field, you can use the property lookup syntax. Let&#x27;s assume
that the CSV file contents are as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">x|y|z</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1|2|3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">4|5|6</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The following query will load row by row from the file, and create a new node
for each row with properties based on the parsed row values:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">LOAD CSV FROM &quot;xyz.csv&quot; WITH HEADER DELIMITER &quot;|&quot; AS row</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n:A {x: ToInteger(row.x), y: ToInteger(row.y), z: ToInteger(row.z)}) ;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If the <code>NO HEADER</code> option is set, then each row is parsed as a list of values.
The contents of the row can be accessed using the list index syntax. Note that
in this mode, there are no restrictions on the number of values a row contains.
This isn&#x27;t recommended, as the user must manually handle the varying number of
values in a row.</p><p>Let&#x27;s assume that the CSV file contents are as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">1|2|3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">4|5|6</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The following query will load row by row from the file, and create a new node
for each row with properties based on the parsed row values:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">LOAD CSV FROM &quot;xyz.csv&quot; NO HEADER DELIMITER &quot;|&quot; AS row</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n:A {x: ToInteger(row[0]), y: ToInteger(row[1]), z: ToInteger(row[2])}) ;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The clause can&#x27;t stand on its own, meaning there has to be at least one more
clause in the query, in addition to it. In other words, the following query will
throw an exception:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">LOAD CSV FROM &quot;file.csv&quot; WITH HEADER AS row ;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>On the other hand, the following query is valid:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MERGE (n:A) LOAD CSV FROM &quot;file.csv&quot; WITH HEADER AS row ;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Note that the row variable doesn&#x27;t have to be used in any subsequent clause.</p><p>Also, it&#x27;s important to note how the <code>LOAD CSV</code> result exhaustion works. Let&#x27;s
assume the following query:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (n)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">LOAD CSV FROM &quot;file.csv&quot; WITH HEADER as row</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">SET n.p = row ;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Let&#x27;s say the <code>MATCH (n)</code> clause finds five nodes, whereas the &quot;file.csv&quot; has
only 2 rows. Then only the first two nodes returned by the <code>MATCH (n)</code> will have
their properties set, using the two rows from the file.
Similarly, if the <code>MATCH (n)</code> clause finds two nodes, whereas the &quot;file.csv&quot; has
five rows, the two nodes returned by <code>MATCH (n)</code> will have their properties
set with values from the first two rows of the file.
In general, the clause that exhausts its results sooner will dictate how many
times the &quot;loop&quot; will be executed.</p><p>Finally, note that the <code>LOAD CSV</code> clause can be used at most once per query.
Trying to use multiple <code>LOAD CSV</code> clauses within a single query will throw an exception.
In other words, queries such as</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">LOAD CSV FROM &quot;x.csv&quot; WITH HEADER as x</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">LOAD CSV FROM &quot;y.csv&quot; WITH HEADER as y</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n:A { p1 : x, p2 : y });</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>are invalid.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/memgraph/docs/tree/master/memgraph_versioned_docs/version-1.5.0/database-functionalities/import-data.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/memgraph/1.5.0/database-functionalities"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ <!-- -->Database functionalities overview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/memgraph/1.5.0/database-functionalities/inspecting-queries"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Inspecting queries<!-- --> ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#csv-import-tool" class="table-of-contents__link toc-highlight">CSV Import Tool</a><ul><li><a href="#csv-file-format" class="table-of-contents__link toc-highlight">CSV File Format</a></li><li><a href="#csv-importer-flags" class="table-of-contents__link toc-highlight">CSV Importer Flags</a></li><li><a href="#how-to-use-the-csv-import-tool" class="table-of-contents__link toc-highlight">How to Use the CSV Import Tool?</a></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li></ul></li><li><a href="#importing-cypher-queries" class="table-of-contents__link toc-highlight">Importing Cypher queries</a></li><li><a href="#using-the-load-csv-cypher-clause" class="table-of-contents__link toc-highlight">Using the <code>LOAD CSV</code> Cypher clause</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/memgraph/getting-started">Memgraph</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/memgraph-lab">Memgraph Lab</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cypher-manual">Cypher manual</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/mage">MAGE</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/memgraph" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/memgraphdb" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discourse.memgraph.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Developer Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/memgraphdb" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/memgraph/memgraph" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCZ3HOJvHGxtQ_JHxOselBYg" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://memgraph.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/docs/img/Memgraph-logo-white-rgb.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/docs/img/Memgraph-logo-white-rgb.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright ¬© 2021 Memgraph. Built by developers, for developers!</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.14053b29.js"></script>
<script src="/docs/assets/js/main.54e9a866.js"></script>
</body>
</html>