<!doctype html>
<html class="docs-version-1.4.0" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="search" type="application/opensearchdescription+xml" title="Memgraph Docs" href="/docs/opensearch.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Encode+Sans+Condensed:500,600">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400, 500,600">
<script src="https://memgraph.com/docs/js/load-analytics.js"></script>
<script src="https://kit.fontawesome.com/3a9f2eb5b9.js"></script><title data-react-helmet="true">How to use built-in query modules | Memgraph Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://memgraph.com/docs/memgraph/1.4.0/database-functionalities/query-modules/built-in-query-modules"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="1.4.0"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-memgraph-1.4.0"><meta data-react-helmet="true" property="og:title" content="How to use built-in query modules | Memgraph Docs"><meta data-react-helmet="true" name="description" content="Memgraph Community edition comes with a set of Python query modules based on"><meta data-react-helmet="true" property="og:description" content="Memgraph Community edition comes with a set of Python query modules based on"><link data-react-helmet="true" rel="shortcut icon" href="/docs/img/social-logo-round-corners.png"><link data-react-helmet="true" rel="canonical" href="https://memgraph.com/docs/memgraph/1.4.0/database-functionalities/query-modules/built-in-query-modules"><link data-react-helmet="true" rel="alternate" href="https://memgraph.com/docs/memgraph/1.4.0/database-functionalities/query-modules/built-in-query-modules" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://memgraph.com/docs/memgraph/1.4.0/database-functionalities/query-modules/built-in-query-modules" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/docs/assets/css/styles.515822bc.css">
<link rel="preload" href="/docs/assets/js/runtime~main.60da18f9.js" as="script">
<link rel="preload" href="/docs/assets/js/main.6ae1a2bc.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><img src="/docs/img/memgraph-logo-500x380.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/docs/img/memgraph-logo-500x380.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Docs</b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link" href="/docs/memgraph/getting-started">Memgraph</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/memgraph/getting-started">Getting started</a></li><li><a class="dropdown__link" href="/docs/memgraph/installation">Installation</a></li><li><a class="dropdown__link" href="/docs/memgraph/import-data">Import data</a></li><li><a class="dropdown__link" href="/docs/memgraph/connect-to-memgraph">Connect to Memgraph</a></li><li><a class="dropdown__link" href="/docs/memgraph/reference-guide">Reference guide</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/memgraph-lab/">Memgraph Lab</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" href="/docs/cypher-manual/">Cypher manual</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/cypher-manual/">Overview</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/functions">Functions</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/clauses">Clauses</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/other-features">Other features</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/differences">Differences</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" href="/docs/mage">MAGE</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/mage">Overview</a></li><li><a class="dropdown__link" href="/docs/mage/installation">Installation</a></li><li><a class="dropdown__link" href="/docs/mage/usage/calling-procedures">Usage</a></li><li><a class="dropdown__link" href="/docs/mage/contributing">Contributing</a></li><li><a class="dropdown__link" href="/docs/mage/getting-help">Getting help</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/help-center">Help Center</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/docs/memgraph/1.4.0/overview">1.4.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/memgraph/next/getting-started">Unreleased ðŸš§</a></li><li><a class="dropdown__link" href="/docs/memgraph/getting-started">2.0.1</a></li><li><a class="dropdown__link" href="/docs/memgraph/2.0.0/getting-started">2.0.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/1.6.1/getting-started">1.6.1</a></li><li><a class="dropdown__link" href="/docs/memgraph/1.6.0/overview">1.6.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/1.5.0/database-functionalities/query-modules/built-in-query-modules">1.5.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/memgraph/1.4.0/database-functionalities/query-modules/built-in-query-modules">1.4.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/1.3.0/database-functionalities/query-modules/built-in-query-modules">1.3.0</a></li></ul></div><a href="https://github.com/memgraph/memgraph" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/memgraph/1.4.0/overview">Overview</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Getting started</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Installation</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorials</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Database functionalities</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.4.0/database-functionalities">Database functionalities overview</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.4.0/database-functionalities/import-data">Import data</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.4.0/database-functionalities/inspecting-queries">Inspecting queries</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.4.0/database-functionalities/profiling-queries">Profiling queries</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.4.0/database-functionalities/tensorflow-setup">TensorFlow Op</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.4.0/database-functionalities/replication">Replication</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.4.0/reference-guide/backup">Backup</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.4.0/database-functionalities/memory-control">Memory control</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Enforcing constraints</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Query modules</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/memgraph/1.4.0/database-functionalities/query-modules/built-in-query-modules">Built-in query modules</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.4.0/database-functionalities/query-modules/load-call-query-modules">Load and call custom query modules</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.4.0/database-functionalities/query-modules/implement-query-modules">Implement custom query modules</a></li></ul></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.4.0/database-functionalities/manage-user-privileges">User privileges (Enterprise)</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.4.0/database-functionalities/manage-users-using-ldap">Authentication and authorization (Enterprise)</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reference guide</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Concepts</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Drivers</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/memgraph/1.4.0/upcoming-features">Upcoming features</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/memgraph/1.4.0/changelog">Changelog</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Getting help</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for Memgraph Docs <b>1.4.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/memgraph/getting-started">latest version</a></b> (2.0.1).</div></div><div class="docItemContainer_33ec"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 1.4.0</span><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>How to use built-in query modules</h1></header><p>Memgraph Community edition comes with a set of Python query modules based on
the <a href="https://networkx.github.io/" target="_blank" rel="noopener noreferrer">NetworkX</a> library of algorithms. The modules
are already packaged within all Memgraph packages, but <code>NetworkX</code> might have to
be installed by running the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">pip3 install networkx</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>NOTE: The following &quot;How to Guides&quot; provide an explanation of basic usage. To find
out more details about each module and documentation of each procedure, please
take a look at our <a href="/docs/memgraph/1.4.0/reference-guide">Reference guide</a>
or the query module source files. The files are located in the directory
<code>/usr/lib/memgraph/query_modules</code>.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="networkx-algorithms-module"></a>NetworkX Algorithms Module<a class="hash-link" href="#networkx-algorithms-module" title="Direct link to heading">#</a></h2><p>In addition to standalone community graph algorithms implemented as Python
modules, we implemented a module providing NetworkX integration with Memgraph.
This module, named <code>nxalgo</code>, provides a comprehensive set of thin wrappers
around most of the algorithms present in the NetworkX package. The wrapper
functions now have the capability to create a NetworkX compatible graph-like
object that can stream the native database graph directly, saving
on memory usage significantly.</p><p>For example, you can run the <a href="https://en.wikipedia.org/wiki/PageRank" target="_blank" rel="noopener noreferrer">Page Rank</a>
algorithm on the data stored in Memgraph. To illustrate the functionality, the
following graph will be used:</p><p><img src="/docs/assets/images/pagerank_graph-5d1a31623c22d486dc7ffa7e3ef36fc7.png"></p><p>To load the graph into Memgraph, the following query should be used:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (na {name: &quot;Page A&quot;})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (nb {name: &quot;Page B&quot;})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (nc {name: &quot;Page C&quot;})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (nd {name: &quot;Page D&quot;})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (na)-[:e]-&gt;(nb)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (na)-[:e]-&gt;(nc)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (nc)-[:e]-&gt;(na)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (nb)-[:e]-&gt;(nc)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (nd)-[:e]-&gt;(nc);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>By executing <code>nxalg.pagerank()</code>, Memgraph will return the rank for each
node as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CALL nxalg.pagerank() YIELD *;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+--------------------+----------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| node               | rank     |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+--------------------+----------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| ({name: &quot;Page C&quot;}) | 0.39415  |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| ({name: &quot;Page D&quot;}) | 0.0375   |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| ({name: &quot;Page A&quot;}) | 0.372526 |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| ({name: &quot;Page B&quot;}) | 0.195824 |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+--------------------+----------+</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>NetworkX algorithms are located inside the <code>nxalg.py</code> file installed with
your Memgraph package in <code>/usr/lib/memgraph/query_modules</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="graph-analyzer"></a>Graph Analyzer<a class="hash-link" href="#graph-analyzer" title="Direct link to heading">#</a></h2><p>The purpose of this module is to get more insights about the stored graph. To
illustrate functionality the following graph will be used:</p><p><img src="/docs/assets/images/graph_analyzer_graph-0b1b67b760ca994955ec1db5799b3131.png"></p><p>To create the graph, the following query should be executed:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n1)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n2)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n3)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n4)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n5)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n6)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n7)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n1)-[:e]-&gt;(n5)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n3)-[:e]-&gt;(n5)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n5)-[:e]-&gt;(n2)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n4)-[:e]-&gt;(n2)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n2)-[:e]-&gt;(n6)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n2)-[:e]-&gt;(n7);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>To analyze the whole graph, let&#x27;s run the following query:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CALL graph_analyzer.analyze() YIELD *;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Results should be similar to the ones below.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">+-------------------------------------------+-------------------------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> name                                      </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> value                   </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+-------------------------------------------+-------------------------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Number of nodes&quot;</span><span class="token plain">                         </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;7&quot;</span><span class="token plain">                     </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Number of edges&quot;</span><span class="token plain">                         </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;6&quot;</span><span class="token plain">                     </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Number of bridges&quot;</span><span class="token plain">                       </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;6&quot;</span><span class="token plain">                     </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Number of articulation points&quot;</span><span class="token plain">           </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2&quot;</span><span class="token plain">                     </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Average degree&quot;</span><span class="token plain">                          </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0.8571428571428571&quot;</span><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Sorted nodes degree&quot;</span><span class="token plain">                     </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;[(16, 4),(19, 3), ...&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Self loops&quot;</span><span class="token plain">                              </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0&quot;</span><span class="token plain">                     </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Is bipartite&quot;</span><span class="token plain">                            </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;True&quot;</span><span class="token plain">                  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Is planar&quot;</span><span class="token plain">                               </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;True&quot;</span><span class="token plain">                  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Is biconnected&quot;</span><span class="token plain">                          </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;False&quot;</span><span class="token plain">                 </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Is weakly connected&quot;</span><span class="token plain">                     </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;True&quot;</span><span class="token plain">                  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Number of weakly connected components&quot;</span><span class="token plain">   </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;1&quot;</span><span class="token plain">                     </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Is strongly connected&quot;</span><span class="token plain">                   </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;False&quot;</span><span class="token plain">                 </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Number of strongly connected components&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;7&quot;</span><span class="token plain">                     </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Is DAG&quot;</span><span class="token plain">                                  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;True&quot;</span><span class="token plain">                  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Is eulerian&quot;</span><span class="token plain">                             </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;False&quot;</span><span class="token plain">                 </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Is forest&quot;</span><span class="token plain">                               </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;True&quot;</span><span class="token plain">                  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Is tree&quot;</span><span class="token plain">                                 </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;True&quot;</span><span class="token plain">                  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+-------------------------------------------+-------------------------+</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>To analyze a sub-graph, relevant nodes and edges have to be collected by
combining <code>MATCH</code> and <code>WITH</code> clauses. Once everything is collected,
<code>analyze_subgraph</code> procedure can be called as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (n)-[e]-&gt;(m) WITH collect(n) as nodes, collect(e) as edges</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CALL graph_analyzer.analyze_subgraph(nodes, edges) YIELD name, value</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN name, value;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="weakly-connected-components"></a>Weakly Connected Components<a class="hash-link" href="#weakly-connected-components" title="Direct link to heading">#</a></h2><p>The <code>wcc.py</code> query module can run
<a href="https://mathworld.wolfram.com/WeaklyConnectedComponent.html" target="_blank" rel="noopener noreferrer">WCC</a> analysis on
a sub-graph of the whole graph. To illustrate the number of weakly connected
components and nodes within each component, the following graph will be used:</p><p><img src="data:image/png;base64,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"></p><p>To create the graph, run the following query:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n1 {id: 1})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n2 {id: 2})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n3 {id: 3})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n4 {id: 4})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n1)-[:e]-&gt;(n2)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n3)-[:e]-&gt;(n4);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The following query will do the calculation:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (n)-[e]-&gt;(m) WITH collect(n) as nodes, collect(e) as edges</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CALL wcc.get_components(nodes, edges) YIELD components, n_components</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN components, n_components;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The expected result follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">+--------------------------------------------------+--------------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| components                                       | n_components |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+--------------------------------------------------+--------------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| [[({id: 1}), ({id: 2})], [({id: 3}), ({id: 4})]] | 2            |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+--------------------------------------------------+--------------+</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Please keep in mind that after the <code>MATCH</code> clause there can be a <code>WHERE</code> clause
with an arbitrary expression to further filter matched set of results.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="low-level-optimized-graph-algorithms-enterprise"></a>Low-level optimized graph algorithms (Enterprise)<a class="hash-link" href="#low-level-optimized-graph-algorithms-enterprise" title="Direct link to heading">#</a></h2><p>If you have purchased Memgraph&#x27;s Enterprise edition, you have access to
certain graph algorithms in the form of query modules. These modules were
implemented by our own team using C++ and should offer some additional
performance benefits. Currently, we have implemented the following algorithms:</p><ul><li>Louvain algorithm for community detection.</li><li>Weakly connected components.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="louvain-algorithm-for-community-detection"></a>Louvain algorithm for community detection<a class="hash-link" href="#louvain-algorithm-for-community-detection" title="Direct link to heading">#</a></h3><p>In essence, this algorithm is a heuristic method which can be used to extract
the community structure of fairly sizeable networks. In the simplest of terms,
the algorithm attempts to assign graph nodes to communities in a way that
maximizes the so-called <a href="https://en.wikipedia.org/wiki/Modularity_(networks)" target="_blank" rel="noopener noreferrer">modularity
measure</a>. For more details,
we advise you to study the <a href="https://arxiv.org/pdf/0803.0476.pdf" target="_blank" rel="noopener noreferrer">original paper</a>.</p><p>This query module should be provided as a shared object (<code>.so</code>) file called
<code>louvain.so</code>. Assuming the standard installation on Debian, that file should be
located in <code>/usr/lib/memgraph/query_modules</code>. Again, we can simply run Memgraph with
the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">systemctl start memgraph</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>When using Docker, the equivalent would be the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -p 7687:7687 \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -v mg_lib:/var/lib/memgraph -v mg_log:/var/log/memgraph -v mg_etc:/etc/memgraph \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  memgraph</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Suppose that Memgraph is currently storing a graph as depicted in the figure
below where numbers in the vertices are stored as properties in the graph.</p><p><img src="/docs/assets/images/louvain_graph-9c3c64a28c25d07f2c94ec3dfc9c972a.png"></p><p>To create the above graph, execute the following query:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n1 {number: 1})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n2 {number: 2})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n3 {number: 3})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n4 {number: 4})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n5 {number: 5})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n6 {number: 6})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n1)-[:e]-&gt;(n2)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n1)-[:e]-&gt;(n3)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n2)-[:e]-&gt;(n3)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n3)-[:e]-&gt;(n4)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n4)-[:e]-&gt;(n5)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n4)-[:e]-&gt;(n6)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n5)-[:e]-&gt;(n6);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Let&#x27;s run the following query:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CALL louvain.communities() YIELD community, id;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We should get a result similar to:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">+-----------+-----------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| community | id        |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+-----------+-----------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 1         | 5         |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 1         | 4         |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 1         | 3         |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 0         | 2         |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 0         | 0         |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 0         | 1         |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+-----------+-----------+</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The procedure returns mappings from internal node IDs to communities. In order
to return the nodes instead of the IDs you should execute the following query:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CALL louvain.communities() YIELD community, id MATCH (n) WHERE ID(n) = id RETURN community, n;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We should observe the following result:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">+---------------+---------------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| community     | n             |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+---------------+---------------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 1             | ({number: 6}) |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 1             | ({number: 5}) |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 1             | ({number: 4}) |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 0             | ({number: 3}) |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 0             | ({number: 1}) |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 0             | ({number: 2}) |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+---------------+---------------+</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>As you can see, vertices numbered 1, 2 and 3 belong to one community, while
vertices numbered 4, 5 and 6 belong to another community.</p><p>If you wish to know the exact graph modularity after running Louvain, you can
run the following query:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CALL louvain.modularity() YIELD modularity;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In our example, the result should be:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">+------------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| modularity |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+------------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 0.357143   |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+------------+</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If you wish, you can model the &quot;strength of connection&quot; between two nodes by
specifying the weight of that edge. To do that, you need to add a property on
that edge named <code>weight</code> which stores a real value. Naturally, larger weights
correspond to stronger connections. If you don&#x27;t explicitly specify the weight
of a certain edge, its weight will internally default to <code>1</code>. It&#x27;s also
important to note that weights are internally represented as 64-bit floating
point numbers.</p><p>Finally, we should also state that the runtime of this algorithm (assuming we
let it run until convergence) is not known. It merely appears to run in
O(nlog(n)).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="weakly-connected-components-1"></a>Weakly Connected Components<a class="hash-link" href="#weakly-connected-components-1" title="Direct link to heading">#</a></h3><p>One of the most important features you might be interested in when exploring a
certain graph is its connectivity. There are many ways in which we might express
to which extent we are interested in the connectivity of a graph, but one of the
simplest ones is by counting the number of its weakly connected components and
by determining which vertex corresponds to which connected component.</p><p>The concept of weakly connected components is natural and simple, two nodes
belong to the same component if a path between them exists in a given graph.
Otherwise, we say those nodes are disconnected.</p><p>This query module should be provided as a shared object (<code>.so</code>) file called
<code>connectivity.so</code>. Assuming the standard installation on Debian, that file
should be located in <code>/usr/lib/memgraph/query_modules</code>. Again, we can simply run
Memgraph with the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">systemctl start memgraph</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>When using Docker, the equivalent would be the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -p 7687:7687 \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -v mg_lib:/var/lib/memgraph -v mg_log:/var/log/memgraph -v mg_etc:/etc/memgraph \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  memgraph</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Suppose that Memgraph is currently storing a graph as depicted in the figure
below where numbers in the vertices are stored as properties in the graph.
This graph obviously has 4 weakly connected components.</p><p><img src="/docs/assets/images/wcc_graph-f51685c00769e001fc9b9fb8868d770f.png"></p><p>To create the above graph, execute the following query:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n1 {number: 1})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n2 {number: 2})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n3 {number: 3})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n4 {number: 4})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n5 {number: 5})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n6 {number: 6})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n7 {number: 7})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n8 {number: 8})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n9 {number: 9})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n10 {number: 10})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n11 {number: 11})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n12 {number: 12})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n13 {number: 13})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n14 {number: 14})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n15 {number: 15})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n1)-[:e]-&gt;(n2)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n1)-[:e]-&gt;(n3)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n2)-[:e]-&gt;(n3)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n5)-[:e]-&gt;(n6)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n6)-[:e]-&gt;(n7)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n6)-[:e]-&gt;(n8)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n7)-[:e]-&gt;(n9)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n7)-[:e]-&gt;(n10)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n8)-[:e]-&gt;(n11)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n12)-[:e]-&gt;(n13)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n12)-[:e]-&gt;(n14)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n12)-[:e]-&gt;(n15)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n13)-[:e]-&gt;(n14)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n13)-[:e]-&gt;(n15)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE (n14)-[:e]-&gt;(n15);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Let&#x27;s run the following query:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CALL connectivity.weak() YIELD component, id;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We should get a result similar to:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">+-----------+-----------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| component | id        |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+-----------+-----------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 3         | 14        |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 3         | 13        |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 3         | 12        |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 3         | 11        |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 2         | 10        |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 2         | 9         |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 2         | 8         |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 2         | 7         |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 2         | 6         |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 0         | 1         |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 0         | 0         |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 0         | 2         |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 1         | 3         |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 2         | 4         |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 2         | 5         |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+-----------+-----------+</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The procedure returns mappings from internal node IDs to components. In order
to return the nodes instead of the IDs you should execute the following query:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CALL connectivity.weak() YIELD component, id MATCH (n) WHERE ID(n) = id RETURN component, n;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We should observe the following result:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">+----------------+----------------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| component      | n              |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+----------------+----------------+</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 3              | ({number: 15}) |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 3              | ({number: 14}) |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 3              | ({number: 13}) |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 3              | ({number: 12}) |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 2              | ({number: 11}) |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 2              | ({number: 10}) |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 2              | ({number: 9})  |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 2              | ({number: 8})  |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 2              | ({number: 7})  |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 0              | ({number: 2})  |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 0              | ({number: 1})  |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 0              | ({number: 3})  |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 1              | ({number: 4})  |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 2              | ({number: 5})  |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| 2              | ({number: 6})  |</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+----------------+----------------+</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>As expected, nodes numbered 1, 2, and 3 are all in one connected component,
node numbered 4 is in its own component, nodes numbered 5, 6, 7, 8, 9, 10, and
11 are in another component and, finally, nodes numbered 12, 13, 14 and 15 are
in the last component.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/memgraph/docs/tree/master/memgraph_versioned_docs/version-1.4.0/database-functionalities/query-modules/built-in-query-modules.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/memgraph/1.4.0/database-functionalities/constraints/uniqueness-constraint"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Uniqueness constraint</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/memgraph/1.4.0/database-functionalities/query-modules/load-call-query-modules"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Load and call custom query modules Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#networkx-algorithms-module" class="table-of-contents__link">NetworkX Algorithms Module</a></li><li><a href="#graph-analyzer" class="table-of-contents__link">Graph Analyzer</a></li><li><a href="#weakly-connected-components" class="table-of-contents__link">Weakly Connected Components</a></li><li><a href="#low-level-optimized-graph-algorithms-enterprise" class="table-of-contents__link">Low-level optimized graph algorithms (Enterprise)</a><ul><li><a href="#louvain-algorithm-for-community-detection" class="table-of-contents__link">Louvain algorithm for community detection</a></li><li><a href="#weakly-connected-components-1" class="table-of-contents__link">Weakly Connected Components</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/memgraph/getting-started">Memgraph</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/memgraph-lab">Memgraph Lab</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cypher-manual">Cypher manual</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/mage">MAGE</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/memgraph" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/memgraphdb" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discourse.memgraph.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Developer Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/memgraphdb" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/memgraph/memgraph" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCZ3HOJvHGxtQ_JHxOselBYg" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://memgraph.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/docs/img/Memgraph-logo-white-rgb.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/docs/img/Memgraph-logo-white-rgb.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2021 Memgraph. Built by developers, for developers!</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.60da18f9.js"></script>
<script src="/docs/assets/js/main.6ae1a2bc.js"></script>
</body>
</html>