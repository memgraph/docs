<!doctype html>
<html class="docs-version-1.6.0" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="search" type="application/opensearchdescription+xml" title="Memgraph Docs" href="/docs/opensearch.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Encode+Sans+Condensed:500,600">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400, 500,600">
<script src="https://memgraph.com/docs/js/load-analytics.js"></script>
<script src="https://kit.fontawesome.com/3a9f2eb5b9.js"></script><title data-react-helmet="true">How to work with Docker? | Memgraph Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://memgraph.com/docs/memgraph/1.6.0/how-to-work-with-docker"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="1.6.0"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-memgraph-1.6.0"><meta data-react-helmet="true" property="og:image" content="https://public-assets.memgraph.com/github-readme-images/docs.memgraph-browser.png"><meta data-react-helmet="true" property="og:title" content="How to work with Docker? | Memgraph Docs"><meta data-react-helmet="true" name="description" content="This guide serves as an explanation of how to use Docker with Memgraph and"><meta data-react-helmet="true" property="og:description" content="This guide serves as an explanation of how to use Docker with Memgraph and"><link data-react-helmet="true" rel="icon" href="/docs/img/social-logo-round-corners.png"><link data-react-helmet="true" rel="canonical" href="https://memgraph.com/docs/memgraph/1.6.0/how-to-work-with-docker"><link data-react-helmet="true" rel="alternate" href="https://memgraph.com/docs/memgraph/1.6.0/how-to-work-with-docker" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://memgraph.com/docs/memgraph/1.6.0/how-to-work-with-docker" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/docs/assets/css/styles.0072dce8.css">
<link rel="preload" href="/docs/assets/js/runtime~main.2ee64cdb.js" as="script">
<link rel="preload" href="/docs/assets/js/main.ca7e6205.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><div class="announcementBar_3WsW" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="announcementBarPlaceholder_2m9F"></div><div class="announcementBarContent_3EUC">🏆 Keep Rockin’ & Start Coding! Register and win $2,000! <a target="_blank" rel="noopener noreferrer" href="https://memgraph.com/memgraph-app-challenge"><b>Join the challenge</b></a> 🏆</div><button type="button" class="clean-btn close announcementBarClose_38nx" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/memgraph-logo-500x380.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/docs/img/memgraph-logo-500x380.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Docs</b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link" href="/docs/memgraph/getting-started">Memgraph</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/memgraph/getting-started">Getting started</a></li><li><a class="dropdown__link" href="/docs/memgraph/installation">Installation</a></li><li><a class="dropdown__link" href="/docs/memgraph/connect-to-memgraph">Connect to Memgraph</a></li><li><a class="dropdown__link" href="/docs/memgraph/import-data">Import data</a></li><li><a class="dropdown__link" href="/docs/memgraph/reference-guide">Reference guide</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/memgraph-lab/">Memgraph Lab</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" href="/docs/cypher-manual/">Cypher manual</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/cypher-manual/">Overview</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/functions">Functions</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/clauses">Clauses</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/other-features">Other features</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/differences">Differences</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" href="/docs/mage">MAGE</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/mage">Overview</a></li><li><a class="dropdown__link" href="/docs/mage/installation">Installation</a></li><li><a class="dropdown__link" href="/docs/mage/algorithms/traditional-graph-analytics/betweenness-centrality-algorithm">Algorithms</a></li><li><a class="dropdown__link" href="/docs/mage/usage/calling-procedures">Usage</a></li><li><a class="dropdown__link" href="/docs/mage/tutorials/create-a-new-module-python">Tutorials</a></li><li><a class="dropdown__link" href="/docs/mage/applications/bioinformatics-application">Applications</a></li><li><a class="dropdown__link" href="/docs/mage/contributing">Contributing</a></li><li><a class="dropdown__link" href="/docs/mage/getting-help">Getting help</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/help-center">Help Center</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/docs/memgraph/1.6.0/overview">1.6.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/memgraph/next/how-to-work-with-docker">Unreleased 🚧</a></li><li><a class="dropdown__link" href="/docs/memgraph/how-to-work-with-docker">2.1.1</a></li><li><a class="dropdown__link" href="/docs/memgraph/2.1.0/how-to-work-with-docker">2.1.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/2.0.1/how-to-work-with-docker">2.0.1</a></li><li><a class="dropdown__link" href="/docs/memgraph/2.0.0/how-to-work-with-docker">2.0.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/1.6.1/how-to-work-with-docker">1.6.1</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/memgraph/1.6.0/how-to-work-with-docker">1.6.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/1.5.0/how-to-work-with-docker">1.5.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/1.4.0/how-to-work-with-docker">1.4.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/1.3.0/database-functionalities/work-with-docker">1.3.0</a></li></ul></div><a href="https://github.com/memgraph/memgraph" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">🌜</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">🌞</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Kl_"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><main class="docMainContainer_3ufF docMainContainerEnhanced_3NYZ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Memgraph Docs<!-- --> <b>1.6.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/memgraph/how-to-work-with-docker">latest version</a></b> (<!-- -->2.1.1<!-- -->).</div></div><div class="docItemContainer_33ec"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->1.6.0</span><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>How to work with Docker?</h1></header><p>This guide serves as an explanation of how to use Docker with Memgraph and
setting up your development environment.</p><p>Memgraph supports custom, user-written Cypher procedures. It is easy to extend
built-in features by creating your own query modules. To access those query
modules, we need to take a few extra steps while using Docker and this guide
will show you how to work with them.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="why-docker">Why Docker?<a class="hash-link" href="#why-docker" title="Direct link to heading">​</a></h2><p><a href="https://www.docker.com" target="_blank" rel="noopener noreferrer">Docker</a> is a service that uses OS-level virtualization
to deliver software in packages that are called
<a href="https://www.docker.com/resources/what-container" target="_blank" rel="noopener noreferrer">containers</a>. We at Memgraph
chose Docker because of its many useful features:</p><ul><li>Flexibility</li><li>Lightweight - efficient in terms of system resources</li><li>Portable - you can build locally or deploy to the cloud</li><li>Runs on all platforms - Windows, Linux and, macOS</li><li>Deploy in Kubernetes</li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="setting-up-memgraph-with-docker">Setting up Memgraph with Docker<a class="hash-link" href="#setting-up-memgraph-with-docker" title="Direct link to heading">​</a></h2><p>To start implementing and testing custom query modules in Memgraph, it is
necessary to set up a Docker container first.</p><p>The Memgraph Docker image can be downloaded
<a href="https://memgraph.com/download" target="_blank" rel="noopener noreferrer">here</a>.</p><p>After successfully <a href="https://docs.docker.com/get-started/" target="_blank" rel="noopener noreferrer">installing Docker</a>,
import the Memgraph Docker image with the following command:</p><div class="codeBlockContainer_K1bP language-console theme-code-block"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker load -i /path/to/memgraph-&lt;version&gt;-docker.tar.gz</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>To start Memgraph, use the following command:</p><div class="codeBlockContainer_K1bP language-console theme-code-block"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -p 7687:7687 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -v mg_lib:/var/lib/memgraph \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -v mg_log:/var/log/memgraph \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -v mg_etc:/etc/memgraph \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  memgraph</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>At this point, Memgraph is ready for you to <a href="/docs/memgraph/1.6.0/connect-to-memgraph">submit
queries</a>.</p><p>For an explanation of how to write custom query modules, follow our <a href="/docs/memgraph/1.6.0/database-functionalities/query-modules/implement-query-modules">how-to
guide</a>.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="docker-container-ip-address">Find the IP address of a Docker Container<a class="hash-link" href="#docker-container-ip-address" title="Direct link to heading">​</a></h2><p>Although unlikely, some users might experience minor difficulties after the
Docker installation. Instead of running on <code>localhost</code>, a Docker container for
Memgraph may be running on a custom IP address. Fortunately, that IP address can
be found as follows:</p><p><strong>1.</strong> Determine the ID of the Memgraph Container by issuing the command <code>docker
ps</code>. The user should get an output similar to the following:</p><div class="codeBlockContainer_K1bP language-console theme-code-block"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CONTAINER ID    IMAGE       COMMAND                  CREATED</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">9397623cd87e    memgraph    &quot;/usr/lib/memgraph/m…&quot;   2 seconds ago</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>At this point, it is important to remember the container ID of the Memgraph
Image. In our case, that is <code>9397623cd87e</code>.</p><p><strong>2.</strong> Use the this ID to retrieve the IP address of the Container:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Linux</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">macOS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Windows</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP language-console theme-code-block"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker inspect -f &#x27;{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}&#x27; 9397623cd87e</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP language-console theme-code-block"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker inspect -f &#x27;{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}&#x27; 9397623cd87e</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP language-console theme-code-block"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker inspect -f &quot;{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}&quot; 9397623cd87e</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><p>The command above will yield the IP address that should be used when connecting
to Memgraph via <strong>Memgraph Lab</strong> or <strong>mgconsole</strong> as described in
the <a href="/docs/memgraph/1.6.0/connect-to-memgraph">querying</a> section. Just replace
<code>HOST</code> from the following command with the appropriate IP address:</p><div class="codeBlockContainer_K1bP language-console theme-code-block"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -it --entrypoint=mgconsole memgraph --host HOST --use-ssl=False</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="importing-data">Importing data<a class="hash-link" href="#importing-data" title="Direct link to heading">​</a></h2><p>If you wish to test and run your procedures on a custom dataset, first you need
to populate the database. We will be using the CSV Import Tool which creates a
snapshot that will be used by the database to recover its state on its next
startup. Make sure that your Memgraph container is stopped and run the importer
using the following command:</p><div class="codeBlockContainer_K1bP language-console theme-code-block"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -v mg_lib:/var/lib/memgraph -v mg_etc:/etc/memgraph -v mg_import:/import-data \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --entrypoint=mg_import_csv memgraph</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can pass CSV files containing nodes and relationships with <code>--nodes</code> and
<code>--relationships</code> flags respectively. Multiple files can be specified by
repeating either of the flags. At least one node needs to be specified, but
relationships are not required. For more information on how to structure your
CSV file, please refer to our <a href="/docs/memgraph/1.6.0/import-data">Import tool
guide</a>.</p><p>To import the snapshot, you will need to copy your files where Docker can see
them by creating another container and filling it with your data:</p><div class="codeBlockContainer_K1bP language-console theme-code-block"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker container create --name mg_import_helper -v mg_import:/import-data busybox</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker cp nodes.csv mg_import_helper:/import-data</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker cp relationships.csv mg_import_helper:/import-data</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker rm mg_import_helper</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>To run the importer, we need to slightly modify the first command by adding the
flags for nodes and relationships:</p><div class="codeBlockContainer_K1bP language-console theme-code-block"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -v mg_lib:/var/lib/memgraph -v mg_etc:/etc/memgraph -v mg_import:/import-data \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --entrypoint=mg_import_csv memgraph \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --nodes /import-data/nodes.csv \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --relationships /import-data/relationships.csv</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Next time you start Memgraph, your dataset will be ready for use!</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="accessing-query-modules">Accessing query modules<a class="hash-link" href="#accessing-query-modules" title="Direct link to heading">​</a></h2><p>Before running our custom procedures, we need to configure Memgraph to know
where to fetch query modules. By default, Memgraph will search for query modules
in the <code>usr/lib/memgraph/query-modules</code> directory. If you wish to change the
directory in which Memgraph searches for query modules, you can do it in one of
the following ways:</p><ul><li>change the <code>--query-modules-directory</code> flag in the main
<a href="/docs/memgraph/1.6.0/reference-guide/configuration">configuration</a> file located at
<code>/etc/memgraph/memgraph.conf</code> or</li><li>supply it as a command-line parameter</li></ul><p>When supplying the path for our query module, first we need to mount the volume
containing it. <strong>Mounting</strong> is a process by which the operating system makes
files and directories on a storage device available for users to access via the
computer&#x27;s file system. In our case, we are allowing an isolated environment of
the Docker container to access data located in our computer&#x27;s file system. There
are two types of mounts in Docker:
<a href="https://docs.docker.com/storage/volumes/" target="_blank" rel="noopener noreferrer">volume</a> and <a href="https://docs.docker.com/storage/bind-mounts/" target="_blank" rel="noopener noreferrer">bind
mounting</a>. The graphic below shows
the differences between the two mounting techniques:</p><img src="https://raw.githubusercontent.com/g-despot/images/master/docker.png" alt="Docker" style="height:360px"><p>In context of Memgraph, we will use volume mounting meaning we are going to put
our files in a container and mount that container to the Docker area. Bind
mounts are dependant on the file system of the host machine therefore if we move
the file elsewhere, we need to re-mount. With volume binding, we have placed the
files inside the Docker area and Memgraph will always have access to it no
matter where they exist in our file system.</p><p>The following command should be used to successfully mount a volume containing
your custom query module:</p><div class="codeBlockContainer_K1bP language-console theme-code-block"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -p 7687:7687 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -v mg_lib:/var/lib/memgraph -v mg_log:/var/log/memgraph -v mg_etc:/etc/memgraph \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -v $(pwd)/modules:/modules \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --query-modules-directory=/modules</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We&#x27;ve added two flags to the original command:</p><ul><li><code>-v $(pwd)/modules:/modules </code> - flag for mounting the volume <code>modules</code> and</li><li><code>--query-modules-directory=/modules</code> - flag used to change the place where
Memgraph searches for modules.</li></ul><p>Now that we have access to our query modules, we can go on and run them.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="running-query-modules">Running query modules<a class="hash-link" href="#running-query-modules" title="Direct link to heading">​</a></h2><p>There are three ways to execute queries and procedures in Memgraph:</p><ul><li>using the command-line tool, <code>mgconsole</code>, which comes with Memgraph,
(<a href="/docs/memgraph/1.6.0/connect-to-memgraph">Querying</a>)</li><li><a href="/docs/memgraph/1.6.0/connect-to-memgraph/methods/drivers">programmatically</a>
by using the Bolt protocol,</li><li>from <strong>Memgraph Lab</strong>, a visual user interface that can be downloaded
<a href="https://memgraph.com/download" target="_blank" rel="noopener noreferrer">here</a>.</li></ul><p>If you&#x27;ve decided to use the command-line tool, you will need to run the
following command:</p><p><code>docker run -it --entrypoint=mgconsole memgraph --host HOST --use-ssl=False</code></p><p><code>HOST</code> part of the command should be replaced with valid IP - most likely it
being <code>localhost</code>.   If you are a macOS or Linux user and are having issues with
connecting, please refer to the <a href="#docker-container-ip-address">Note for Docker
users</a>.</p><p>NOTE: If <code>localhost</code> refuses to connect, try putting <code>host.docker.internal</code>
instead.</p><p>After running the command, you should get a command prompt similar to this one:</p><div class="codeBlockContainer_K1bP theme-code-block"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Type :help for shell usage</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Quit the shell by typing Ctrl-D(eof) or :quit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Connected to &#x27;memgraph://127.0.0.1:7687&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">memgraph&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Query modules are loaded on start, but you can also load them by executing the
following procedure:</p><div class="codeBlockContainer_K1bP language-cypher theme-code-block"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CALL mg.load_all();</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Each time you change a query module don&#x27;t forget to reload it. The syntax for
calling the procedures is as follows:</p><div class="codeBlockContainer_K1bP language-cypher theme-code-block"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CALL example.procedure(&quot;string-argument&quot;) YIELD *;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Each procedure returns either zero or more records, where each record contains
named fields. The <code>YIELD</code> part is used to select fields we are interested in.
Custom procedures may be called standalone or as part of a larger query. This is
useful if we want the procedure to work on data the query is producing.</p><p>With this, your developing environment is ready and you are able to easily
implement and run your own query modules. Check out our <a href="/docs/memgraph/1.6.0/reference-guide/query-modules">Reference
Guide</a> to see which Query
Modules are included in Memgraph.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="where-to-next">Where to next?<a class="hash-link" href="#where-to-next" title="Direct link to heading">​</a></h2><p>To learn more about Memgraph&#x27;s functionalities, visit the <strong><a href="/docs/memgraph/1.6.0/reference-guide">Reference
guide</a></strong>. For real-world examples of how to
use Memgraph, we strongly suggest going through one of the available
<strong><a href="/docs/memgraph/1.6.0/tutorials">Tutorials</a></strong>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/memgraph/docs/tree/master/memgraph_versioned_docs/version-1.6.0/database-functionalities/work-with-docker.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-docker" class="table-of-contents__link toc-highlight">Why Docker?</a></li><li><a href="#setting-up-memgraph-with-docker" class="table-of-contents__link toc-highlight">Setting up Memgraph with Docker</a></li><li><a href="#docker-container-ip-address" class="table-of-contents__link toc-highlight">Find the IP address of a Docker Container</a></li><li><a href="#importing-data" class="table-of-contents__link toc-highlight">Importing data</a></li><li><a href="#accessing-query-modules" class="table-of-contents__link toc-highlight">Accessing query modules</a></li><li><a href="#running-query-modules" class="table-of-contents__link toc-highlight">Running query modules</a></li><li><a href="#where-to-next" class="table-of-contents__link toc-highlight">Where to next?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/memgraph/getting-started">Memgraph</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/memgraph-lab">Memgraph Lab</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cypher-manual">Cypher manual</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/mage">MAGE</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/memgraph" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/memgraphdb" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discourse.memgraph.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Developer Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/memgraphdb" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/memgraph/memgraph" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCZ3HOJvHGxtQ_JHxOselBYg" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://memgraph.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/docs/img/Memgraph-logo-white-rgb.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/docs/img/Memgraph-logo-white-rgb.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright © 2021 Memgraph. Built by developers, for developers!</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.2ee64cdb.js"></script>
<script src="/docs/assets/js/main.ca7e6205.js"></script>
</body>
</html>