<!doctype html>
<html class="docs-version-1.6.0" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="search" type="application/opensearchdescription+xml" title="Memgraph Docs" href="/docs/opensearch.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Encode+Sans+Condensed:500,600">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400, 500,600">
<script src="https://memgraph.com/docs/js/load-analytics.js"></script>
<script src="https://kit.fontawesome.com/3a9f2eb5b9.js"></script><title data-react-helmet="true">Graphing the Premier League | Memgraph Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://memgraph.com/docs/memgraph/1.6.0/tutorials/graphing-the-premier-league"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="1.6.0"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-memgraph-1.6.0"><meta data-react-helmet="true" property="og:title" content="Graphing the Premier League | Memgraph Docs"><meta data-react-helmet="true" name="description" content="This article is a part of a series intended to show users how to use Memgraph"><meta data-react-helmet="true" property="og:description" content="This article is a part of a series intended to show users how to use Memgraph"><link data-react-helmet="true" rel="shortcut icon" href="/docs/img/social-logo-round-corners.png"><link data-react-helmet="true" rel="canonical" href="https://memgraph.com/docs/memgraph/1.6.0/tutorials/graphing-the-premier-league"><link data-react-helmet="true" rel="alternate" href="https://memgraph.com/docs/memgraph/1.6.0/tutorials/graphing-the-premier-league" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://memgraph.com/docs/memgraph/1.6.0/tutorials/graphing-the-premier-league" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/docs/assets/css/styles.515822bc.css">
<link rel="preload" href="/docs/assets/js/runtime~main.9fce915b.js" as="script">
<link rel="preload" href="/docs/assets/js/main.f0e1fa9d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><img src="/docs/img/memgraph-logo-500x380.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/docs/img/memgraph-logo-500x380.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Docs</b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link" href="/docs/memgraph/getting-started">Memgraph DB</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/memgraph/getting-started">Getting started</a></li><li><a class="dropdown__link" href="/docs/memgraph/installation">Installation</a></li><li><a class="dropdown__link" href="/docs/memgraph/import-data">Import data</a></li><li><a class="dropdown__link" href="/docs/memgraph/connect-to-memgraph">Connect to Memgraph</a></li><li><a class="dropdown__link" href="/docs/memgraph/reference-guide">Reference guide</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/memgraph-lab/">Memgraph Lab</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" href="/docs/cypher-manual/">Cypher manual</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/cypher-manual/">Overview</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/functions">Functions</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/clauses">Clauses</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/other-features">Other features</a></li><li><a class="dropdown__link" href="/docs/cypher-manual/differences">Differences</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" href="/docs/mage">MAGE</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/mage">Overview</a></li><li><a class="dropdown__link" href="/docs/mage/installation">Installation</a></li><li><a class="dropdown__link" href="/docs/mage/usage/calling-procedures">Usage</a></li><li><a class="dropdown__link" href="/docs/mage/contributing">Contributing</a></li><li><a class="dropdown__link" href="/docs/mage/getting-help">Getting help</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/help-center">Help Center</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/docs/memgraph/1.6.0/overview">1.6.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/memgraph/next/tutorials/graphing-the-premier-league">Unreleased ðŸš§</a></li><li><a class="dropdown__link" href="/docs/memgraph/tutorials/graphing-the-premier-league">1.6.1</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/memgraph/1.6.0/tutorials/graphing-the-premier-league">1.6.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/1.5.0/tutorials/graphing-the-premier-league">1.5.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/1.4.0/tutorials/graphing-the-premier-league">1.4.0</a></li><li><a class="dropdown__link" href="/docs/memgraph/1.3.0/tutorials/graphing-the-premier-league">1.3.0</a></li></ul></div><a href="https://github.com/memgraph" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/memgraph/1.6.0/overview">Overview</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/memgraph/1.6.0/getting-started">Getting started</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Installation</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Connect to Memgraph</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Import data</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Tutorials</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.6.0/tutorials">Overview</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.6.0/tutorials/analyzing-ted-talks">Analyzing TED Talks</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.6.0/tutorials/backpacking-through-europe">Backpacking through Europe</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.6.0/tutorials/exploring-the-european-road-network">Exploring the European road network</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.6.0/tutorials/football-transfers">Football transfers</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.6.0/tutorials/got-deaths">Game of Thrones deaths</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/memgraph/1.6.0/tutorials/graphing-the-premier-league">Graphing the Premier League</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.6.0/tutorials/marvel-universe">Marvel Comic Universe social network</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.6.0/tutorials/movie-recommendation">Movie recommendation system</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.6.0/tutorials/social-network-analysis">Social network analysis with NetworkX</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memgraph/1.6.0/tutorials/understanding-music-with-modules">Understanding music (with query modules)</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Database functionalities</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reference guide</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Concepts</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/memgraph/1.6.0/upcoming-features">Upcoming features</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/memgraph/1.6.0/changelog">Changelog</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for Memgraph Docs <b>1.6.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/memgraph/tutorials/graphing-the-premier-league">latest version</a></b> (1.6.1).</div></div><div class="docItemContainer_33ec"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 1.6.0</span><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Graphing the Premier League</h1></header><p>This article is a part of a series intended to show users how to use Memgraph
on real-world data and, by doing so, retrieve some interesting and useful
information.</p><p>We highly recommend checking out the other articles from this series which
are listed in our <a href="/docs/memgraph/1.6.0/tutorials">tutorial overview section</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="introduction"></a>Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">#</a></h2><p><a href="https://en.wikipedia.org/wiki/Association_football" target="_blank" rel="noopener noreferrer">Football</a>
is a team sport played between two teams of eleven
players with a spherical ball. The game is played on a rectangular pitch with
a goal at each and. The object of the game is to score by moving the ball
beyond the goal line into the opposing goal. The game is played by more than
250 million players in over 200 countries, making it the world&#x27;s most
popular sport.</p><p>In this article, we will present a graph model of a reasonably sized dataset
of football matches across world&#x27;s most popular leagues.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="data-model"></a>Data model<a class="hash-link" href="#data-model" title="Direct link to heading">#</a></h2><p>In essence, we are trying to model a set of football matches. All information
about a single match is going to be contained in three nodes and two edges.
Two of the nodes will represent the teams that have played the match, while the
third node will represent the game itself. Both edges are directed from the
team nodes to the game node and are labeled as <code>:Played</code>.</p><p>Every bit of information regarding the data model is nicely condensed in
the following visual representation.</p><p><img alt="Football" src="/docs/assets/images/football_metagraph-4c1e550b4c9166c480e469573395ea3a.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="exploring-the-dataset"></a>Exploring the dataset<a class="hash-link" href="#exploring-the-dataset" title="Direct link to heading">#</a></h2><p>You have two options for exploring this dataset.
If you just want to take a look at the dataset and try out a few queries, open
<a href="https://playground.memgraph.com/" target="_blank" rel="noopener noreferrer">Memgraph Playground</a> and continue with
the tutorial there. Note that you will not be able to execute <code>write</code> operations.</p><p>On the other hand, if you would like to add changes to the dataset, download the
<a href="https://memgraph.com/product/lab" target="_blank" rel="noopener noreferrer">Memgraph Lab</a> desktop application and navigate
to the <code>Datasets</code> tab in the sidebar. From there, choose the dataset
<code>Football Premier league games</code> and continue with the tutorial.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="example-queries"></a>Example queries<a class="hash-link" href="#example-queries" title="Direct link to heading">#</a></h2><p>1) You might wonder, what leagues are supported?</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (n:Game)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN DISTINCT n.league</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ORDER BY n.league;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>2) We have stored a certain number of seasons for each league. What is the
oldest/newest season we have included?</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (n:Game)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN DISTINCT n.league AS league, min(n.season) AS oldest, max(n.season) AS newest</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ORDER BY league;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>3) You have already seen one game between Chelsea and Arsenal, let&#x27;s list all of
them in chronological order.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (n:Team {name: &quot;Chelsea&quot;})-[e:Played]-&gt;(w:Game)&lt;-[f:Played]-(m:Team {name: &quot;Arsenal&quot;})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN w.date AS date, e.side AS chelsea, f.side AS arsenal,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       w.FT_home_score AS home_score, w.FT_away_score AS away_score</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ORDER BY date;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>4) How about filtering games in which Chelsea won?</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (n:Team {name: &quot;Chelsea&quot;})-[e:Played {outcome: &quot;won&quot;}]-&gt;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      (w:Game)&lt;-[f:Played]-(m:Team {name: &quot;Arsenal&quot;})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN w.date AS date, e.side AS chelsea, f.side AS arsenal,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       w.FT_home_score AS home_score, w.FT_away_score AS away_score</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ORDER BY date;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>5) Home field advantage is a thing in football. Let&#x27;s list the number of home
defeats for each Premier League team in the 2016/2017 season.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (n:Team)-[:Played {side: &quot;home&quot;, outcome: &quot;lost&quot;}]-&gt;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      (w:Game {league: &quot;ENG-Premier League&quot;, season: 2016})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN n.name AS team, count(w) AS home_defeats</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ORDER BY home_defeats, team;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>6) At the end of the season the team with the most points wins the league. For
each victory, a team is awarded 3 points and for each draw it is awarded
1 point. Let&#x27;s find out how many points did reigning champions (Chelsea) have
at the end of 2016/2017 season.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (n:Team {name: &quot;Chelsea&quot;})-[:Played {outcome: &quot;drew&quot;}]-&gt;(w:Game {season: 2016})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">WITH n, count(w) AS draw_points</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (n)-[:Played {outcome: &quot;won&quot;}]-&gt;(w:Game {season: 2016})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN draw_points + 3 * count(w) AS total_points;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>7) In fact, why not retrieve the whole table?</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (n)-[:Played {outcome: &quot;drew&quot;}]-&gt;(w:Game {league: &quot;ENG-Premier League&quot;, season: 2016})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">WITH n, count(w) AS draw_points</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (n)-[:Played {outcome: &quot;won&quot;}]-&gt;(w:Game {league: &quot;ENG-Premier League&quot;, season: 2016})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN n.name AS team, draw_points + 3 * count(w) AS total_points</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ORDER BY total_points DESC;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>8) People have always debated which of the major leagues is the most exciting.
One basic metric is the average number of goals per game. Let&#x27;s see the results
at the end of the 2016/2017 season. WARNING: This might shock you.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (w:Game {season: 2016})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN w.league, avg(w.FT_home_score) + avg(w.FT_away_score) AS avg_goals_per_game</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ORDER BY avg_goals_per_game DESC;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>9) Another metric might be the number of comebacksâ€”games where one side
was winning at half time but were overthrown by the other side by the end
of the match. Let&#x27;s count such occurrences during all supported seasons across
all supported leagues.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (g:Game)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">WHERE (g.HT_result = &quot;H&quot; AND g.FT_result = &quot;A&quot;) OR</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      (g.HT_result = &quot;A&quot; AND g.FT_result = &quot;H&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN g.league AS league, count(g) AS comebacks</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ORDER BY comebacks DESC;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>10) Exciting leagues also tend to be very unpredictable. On that note, let&#x27;s
list all triplets of teams where, during the course of one season, team A won
against team B, team B won against team C and team C won against team A.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cypher"><pre tabindex="0" class="prism-code language-cypher codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MATCH (a)-[:Played {outcome: &quot;won&quot;}]-&gt;(p:Game {league: &quot;ENG-Premier League&quot;, season: 2016})&lt;--</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      (b)-[:Played {outcome: &quot;won&quot;}]-&gt;(q:Game {league: &quot;ENG-Premier League&quot;, season: 2016})&lt;--</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      (c)-[:Played {outcome: &quot;won&quot;}]-&gt;(r:Game {league: &quot;ENG-Premier League&quot;, season: 2016})&lt;--(a)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">WHERE p.date &lt; q.date AND q.date &lt; r.date</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN a.name AS team1, b.name AS team2, c.name AS team3;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/memgraph/docs/tree/master/memgraph_versioned_docs/version-1.6.0/tutorials/graphing-the-premier-league.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/memgraph/1.6.0/tutorials/got-deaths"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Game of Thrones deaths</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/memgraph/1.6.0/tutorials/marvel-universe"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Marvel Comic Universe social network Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link">Introduction</a></li><li><a href="#data-model" class="table-of-contents__link">Data model</a></li><li><a href="#exploring-the-dataset" class="table-of-contents__link">Exploring the dataset</a></li><li><a href="#example-queries" class="table-of-contents__link">Example queries</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/memgraph/getting-started">Memgraph DB</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/memgraph-lab">Memgraph Lab</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cypher-manual">Cypher manual</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/mage">MAGE</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/memgraphdb" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discourse.memgraph.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Developer Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/memgraphdb" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/memgraph" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCZ3HOJvHGxtQ_JHxOselBYg" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://memgraph.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/docs/img/Memgraph-logo-white-rgb.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/docs/img/Memgraph-logo-white-rgb.png" alt="Memgraph Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2021 Memgraph. Built by developers, for developers!</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.9fce915b.js"></script>
<script src="/docs/assets/js/main.f0e1fa9d.js"></script>
</body>
</html>